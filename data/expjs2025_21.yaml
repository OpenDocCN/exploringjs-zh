- en: 17 Booleans
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 17 布尔值
- en: 原文：[https://exploringjs.com/js/book/ch_booleans.html](https://exploringjs.com/js/book/ch_booleans.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://exploringjs.com/js/book/ch_booleans.html](https://exploringjs.com/js/book/ch_booleans.html)
- en: '[17.1 Converting to boolean](#converting-to-boolean)'
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.1 转换为布尔值](#converting-to-boolean)'
- en: '[17.2 Falsy and truthy values](#falsiness-truthiness)'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.2 假值和真值](#falsiness-truthiness)'
- en: '[17.2.1 Checking for truthiness or falsiness](#checking-for-truthiness-or-falsiness)'
  id: totrans-4
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.2.1 检查真值或假值](#checking-for-truthiness-or-falsiness)'
- en: '[17.3 Truthiness-based existence checks](#truthiness-existence-checks)'
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3 基于真值的检查](#truthiness-existence-checks)'
- en: '[17.3.1 Pitfall: truthiness-based existence checks are imprecise](#pitfall-truthinessbased-existence-checks-are-imprecise)'
  id: totrans-6
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3.1 陷阱：基于真值的存在检查是不精确的](#pitfall-truthinessbased-existence-checks-are-imprecise)'
- en: '[17.3.2 Use case: was a parameter provided?](#use-case-was-a-parameter-provided)'
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3.2 用例：是否提供了参数？](#use-case-was-a-parameter-provided)'
- en: '[17.3.3 Use case: does a property exist?](#use-case-does-a-property-exist)'
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3.3 用例：属性是否存在？](#use-case-does-a-property-exist)'
- en: '[17.4 Conditional operator (`? :`)](#conditional-operator)'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.4 条件运算符(`? :`)](#conditional-operator)'
- en: '[17.5 Binary logical operators: And (`x && y`), Or (`x || y`)](#binary-logical-operators)'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.5 二元逻辑运算符：与(`x && y`)，或(`x || y`)](#binary-logical-operators)'
- en: '[17.5.1 Value-preservation](#value-preservation)'
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.5.1 值保留](#value-preservation)'
- en: '[17.5.2 Short-circuiting](#short-circuiting)'
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.5.2 短路](#short-circuiting)'
- en: '[17.5.3 Logical And (`x && y`)](#logical-and-x--y)'
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.5.3 逻辑与 (`x && y`)](#logical-and-x--y)'
- en: '[17.5.4 Logical Or (`||`)](#logical-or-)'
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.5.4 逻辑或 (`||`)](#logical-or-)'
- en: '[17.6 Logical Not (`!`)](#logical-not)'
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.6 逻辑非(`!`)](#logical-not)'
- en: 'The primitive type *boolean* comprises two values – `false` and `true`:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 原始类型*布尔*包含两个值——`false`和`true`：
- en: '[PRE0]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[17.1 Converting to boolean](#converting-to-boolean)'
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.1 转换为布尔值](#converting-to-boolean)'
- en: '![Icon “details”](../Images/38ba63de820aae6f94a019538ae0f222.png) **The meaning
    of “converting to [type]”**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '![图标“详情”](../Images/38ba63de820aae6f94a019538ae0f222.png) **“转换为[type]”的含义**'
- en: “Converting to [type]” is short for “Converting arbitrary values to values of
    type [type]”.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “转换为[type]”是“将任意值转换为[type]类型值”的简称。
- en: These are three ways in which we can convert an arbitrary value `x` to a boolean.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将任意值`x`转换为布尔值的三种方式。
- en: '`Boolean(x)`'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Boolean(x)`'
- en: Most descriptive; recommended.
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最具描述性；推荐。
- en: '`x ? true : false`'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`x ? true : false`'
- en: Uses the conditional operator (explained [later in this chapter](#conditional-operator)).
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用条件运算符（将在本章后面解释[条件运算符](#conditional-operator)）。
- en: '`!!x`'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`!!x`'
- en: Uses [the logical Not operator (`!`)](#logical-not). This operator coerces its
    operand to boolean. It is applied a second time to get a non-negated result.
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用[逻辑非运算符(`!`)](#logical-not)。此运算符将操作数强制转换为布尔值。它被第二次应用以获取非取反的结果。
- en: '[Table 17.1](#tbl:converting_to_boolean) describes how various values are converted
    to boolean.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[表17.1](#tbl:converting_to_boolean) 描述了各种值如何转换为布尔值。'
- en: '| `x` | `Boolean(x)` |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| `x` | `Boolean(x)` |'
- en: '| --- | --- |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `undefined` | `false` |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| `undefined` | `false` |'
- en: '| `null` | `false` |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| `null` | `false` |'
- en: '| boolean | `x` (no change) |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| 布尔 | `x`（无变化）|'
- en: '| number | `0` → `false`, `NaN` → `false` |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| 数字 | `0` → `false`，`NaN` → `false` |'
- en: '|  | Other numbers → `true` |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '|  | 其他数字 → `true` |'
- en: '| bigint | `0` → `false` |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| 大整数 | `0` → `false` |'
- en: '|  | Other numbers → `true` |'
  id: totrans-37
  prefs: []
  type: TYPE_TB
  zh: '|  | 其他数字 → `true` |'
- en: '| string | `''''` → `false` |'
  id: totrans-38
  prefs: []
  type: TYPE_TB
  zh: '| 字符串 | `''''` → `false` |'
- en: '|  | Other strings → `true` |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '|  | 其他字符串 → `true` |'
- en: '| symbol | `true` |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '| 符号 | `true` |'
- en: '| object | Always `true` |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| 对象 | 总是`true` |'
- en: 'Table 17.1: Converting values to booleans.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 表17.1：将值转换为布尔值。
- en: '[17.2 Falsy and truthy values](#falsiness-truthiness)'
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.2 假值和真值](#falsiness-truthiness)'
- en: 'In most locations where JavaScript expects a boolean value, we can instead
    use an arbitrary value and JavaScript converts it to boolean before using it.
    Examples include:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在JavaScript期望布尔值的大多数位置，我们可以使用任意值，JavaScript会在使用之前将其转换为布尔值。例如包括：
- en: Condition of an `if` statement
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`if` 语句的条件'
- en: Condition of a `while` loop
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`while` 循环的条件'
- en: Condition of a `do-while` loop
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`do-while` 循环的条件'
- en: 'Consider the following `if` statement:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下 `if` 语句：
- en: '[PRE1]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'In many programming languages, this condition is equivalent to:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多编程语言中，此条件等同于：
- en: '[PRE2]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'However, in JavaScript, it is equivalent to:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在JavaScript中，它等同于：
- en: '[PRE3]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'That is, JavaScript checks if `value` is `true` when converted to boolean.
    This kind of check is so common that the following names were introduced:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 即，JavaScript检查`value`转换为布尔值时是否为`true`。这种检查非常常见，因此引入了以下名称：
- en: A value is called *truthy* if it is `true` when converted to boolean.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个值转换为布尔值时，如果它是`true`，则称为*真值*。
- en: A value is called *falsy* if it is `false` when converted to boolean.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当一个值转换为布尔值时，如果它是`false`，则称为*假值*。
- en: 'Each value is either truthy or falsy. This is an exhaustive list of falsy values:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 每个值要么是真值，要么是假值。这是假值的不完全列表：
- en: '`undefined`'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`undefined`'
- en: '`null`'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`null`'
- en: 'Boolean: `false`'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 布尔：`false`
- en: 'Numbers: `0`, `NaN`'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数字：`0`，`NaN`
- en: 'Bigint: `0n`'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'BigInt: `0n`'
- en: 'String: `''''`'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'String: `''''`'
- en: 'All other values (including all objects) are truthy:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 所有其他值（包括所有对象）都是真值：
- en: '[PRE4]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[17.2.1 Checking for truthiness or falsiness](#checking-for-truthiness-or-falsiness)'
  id: totrans-66
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.2.1 检查真值或假值](#checking-for-truthiness-or-falsiness)'
- en: '[PRE5]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The conditional operator that is used in the last line, is explained [later
    in this chapter](#conditional-operator).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一行使用的条件操作符，将在本章后面解释[条件操作符](#conditional-operator)。
- en: '![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Exercise:
    Truthiness**'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '![图标“练习”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **练习：真值**'
- en: '`exercises/booleans/truthiness_exrc.mjs`'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '`exercises/booleans/truthiness_exrc.mjs`'
- en: '[17.3 Truthiness-based existence checks](#truthiness-existence-checks)'
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.3 基于真值的存在检查](#truthiness-existence-checks)'
- en: 'In JavaScript, if we read something that doesn’t exist (e.g., a missing parameter
    or a missing property), we usually get `undefined` as a result. In these cases,
    an existence check amounts to comparing a value with `undefined`. For example,
    the following code checks if object `obj` has the property `.prop`:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在JavaScript中，如果我们读取不存在的某个值（例如，缺失的参数或缺失的属性），我们通常得到`undefined`作为结果。在这些情况下，存在检查相当于比较一个值与`undefined`。例如，以下代码检查对象`obj`是否有属性`.prop`：
- en: '[PRE6]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Due to `undefined` being falsy, we can shorten this check to:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 由于`undefined`是假值，我们可以将这个检查简化为：
- en: '[PRE7]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[17.3.1 Pitfall: truthiness-based existence checks are imprecise](#pitfall-truthinessbased-existence-checks-are-imprecise)'
  id: totrans-76
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.3.1 陷阱：基于真值的存在检查是不精确的](#pitfall-truthinessbased-existence-checks-are-imprecise)'
- en: 'Truthiness-based existence checks have one pitfall: they are not very precise.
    Consider this previous example:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 基于真值的存在检查有一个陷阱：它们不是很精确。考虑这个先前的例子：
- en: '[PRE8]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The body of the `if` statement is skipped if:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果以下条件成立，则跳过`if`语句的主体：
- en: '`obj.prop` is missing (in which case, JavaScript returns `undefined`).'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`obj.prop`缺失（在这种情况下，JavaScript返回`undefined`）。'
- en: 'However, it is also skipped if:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果以下条件成立，它也会被跳过：
- en: '`obj.prop` is `undefined`.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`obj.prop`是`undefined`。'
- en: '`obj.prop` is any other falsy value (`null`, `0`, `''''`, etc.).'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`obj.prop`是任何其他假值（`null`，`0`，`''''`等）。'
- en: In practice, this rarely causes problems, but we have to be aware of this pitfall.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，这很少引起问题，但我们必须意识到这个陷阱。
- en: '[17.3.2 Use case: was a parameter provided?](#use-case-was-a-parameter-provided)'
  id: totrans-85
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.3.2 用例：参数是否提供？](#use-case-was-a-parameter-provided)'
- en: 'A truthiness check is often used to determine if the caller of a function provided
    a parameter:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 真值检查常用于确定函数的调用者是否提供了参数：
- en: '[PRE9]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: On the plus side, this pattern is established and short. It correctly throws
    errors for `undefined` and `null`.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 优点在于，这种模式已经建立并且简短。它正确地抛出`undefined`和`null`的错误。
- en: 'On the minus side, there is the previously mentioned pitfall: the code also
    throws errors for all other falsy values.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 缺点在于，之前提到的陷阱：代码也会为所有其他假值抛出错误。
- en: 'An alternative is to check for `undefined`:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择是检查`undefined`：
- en: '[PRE10]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[17.3.3 Use case: does a property exist?](#use-case-does-a-property-exist)'
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.3.3 用例：属性是否存在？](#use-case-does-a-property-exist)'
- en: 'Truthiness checks are also often used to determine if a property exists:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 真值检查也常用于确定属性是否存在：
- en: '[PRE11]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'This pattern is also established and has the usual caveat: it not only throws
    if the property is missing, but also if it exists and has any of the falsy values.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式已经建立，并且有通常的注意事项：它不仅会在属性缺失时抛出错误，而且如果属性存在并且具有任何假值也会抛出错误。
- en: 'If we truly want to check if the property exists, we have to use [the `in`
    operator](ch_objects.html#in-operator):'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们真正想检查属性是否存在，我们必须使用[“in”操作符](ch_objects.html#in-operator)：
- en: '[PRE12]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[17.4 Conditional operator (`? :`)](#conditional-operator)'
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.4 条件操作符（`? :`）](#conditional-operator)'
- en: 'The conditional operator is the expression version of the `if` statement. Its
    syntax is:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 条件操作符是`if`语句的表达式版本。其语法是：
- en: '[PRE13]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'It is evaluated as follows:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 它的评估方式如下：
- en: If `condition` is truthy, evaluate and return `thenExpression`.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果`condition`是真值，则评估并返回`thenExpression`。
- en: Otherwise, evaluate and return `elseExpression`.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，评估并返回`elseExpression`。
- en: The conditional operator is also called *ternary operator* because it has three
    operands.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 条件操作符也被称为*三元操作符*，因为它有三个操作数。
- en: 'Examples:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE14]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: The following code demonstrates that whichever of the two branches “then” and
    “else” is chosen via the condition, only that branch is evaluated. The other branch
    isn’t.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码演示了无论通过条件选择的是“then”分支还是“else”分支，只有那个分支会被评估。另一个分支则不会。
- en: '[PRE15]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Output:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 输出：
- en: '[PRE16]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '[17.5 Binary logical operators: And (`x && y`), Or (`x || y`)](#binary-logical-operators)'
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.5 二元逻辑运算符：与（`x && y`）、或（`x || y`）](#binary-logical-operators)'
- en: 'JavaScript has two binary logical operators:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: JavaScript有两种二元逻辑运算符：
- en: Logical And (`x && y`)
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑与（`x && y`）
- en: Logical Or (`x || y`)
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑或（`x || y`）
- en: They are *value-preserving* and *short-circuiting*.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 它们是*值保留*和*短路*的。
- en: '[17.5.1 Value-preservation](#value-preservation)'
  id: totrans-116
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.5.1 值保留](#value-preservation)'
- en: '*Value-preservation* means that operands are interpreted as booleans but returned
    unchanged:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '*值保留*意味着操作数被解释为布尔值，但返回时不改变：'
- en: '[PRE17]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '[17.5.2 Short-circuiting](#short-circuiting)'
  id: totrans-119
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.5.2 短路](#short-circuiting)'
- en: '*Short-circuiting* means if the first operand already determines the result,
    then the second operand is not evaluated. The only other operator that delays
    evaluating its operands is the conditional operator. Usually, all operands are
    evaluated before performing an operation.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '*短路*意味着如果第一个操作数已经决定了结果，则不会评估第二个操作数。唯一其他延迟评估其操作数的运算符是条件运算符。通常，在执行操作之前，所有操作数都会被评估。'
- en: 'For example, logical And (`&&`) does not evaluate its second operand if the
    first one is falsy:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，逻辑与（`&&`）如果第一个操作数是假值，则不会评估其第二个操作数：
- en: '[PRE18]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'If the first operand is truthy, `console.log()` is executed:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 如果第一个操作数是真值，则执行`console.log()`：
- en: '[PRE19]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Output:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 输出：
- en: '[PRE20]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[17.5.3 Logical And (`x && y`)](#logical-and-x--y)'
  id: totrans-127
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.5.3 逻辑与（`x && y`）](#logical-and-x--y)'
- en: 'The expression `a && b` (“`a` And `b`”) is evaluated as follows:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 表达式`a && b`（“`a` 与 `b`”）的评估如下：
- en: Evaluate `a`.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估`a`。
- en: Is the result falsy? Return it.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果是否为假值？返回它。
- en: Otherwise, evaluate `b` and return the result.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 否则，评估`b`并返回结果。
- en: 'In other words, the following two expressions are roughly equivalent:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，以下两个表达式大致等价：
- en: '[PRE21]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Examples:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE22]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '[17.5.4 Logical Or (`||`)](#logical-or-)'
  id: totrans-136
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[17.5.4 逻辑或（`||`）](#logical-or-)'
- en: 'The expression `a || b` (“`a` Or `b`”) is evaluated as follows:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 表达式`a || b`（“`a` 或 `b`”）的评估如下：
- en: Evaluate `a`.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估`a`。
- en: Is the result truthy? Return it.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果是否为真值？返回它。
- en: Otherwise, evaluate `b` and return the result.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 否则，评估`b`并返回结果。
- en: 'In other words, the following two expressions are roughly equivalent:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，以下两个表达式大致等价：
- en: '[PRE23]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Examples:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE24]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '[17.5.4.1 Legacy use case for logical Or (`||`): providing default values](#legacy-use-case-for-logical-or--providing-default-values)'
  id: totrans-145
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '[17.5.4.1 逻辑或（`||`）的遗留用例：提供默认值](#legacy-use-case-for-logical-or--providing-default-values)'
- en: 'ECMAScript 2020 introduced the nullish coalescing operator (`??`) for default
    values. Before that, logical Or was used for this purpose:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: ECMAScript 2020引入了空值合并运算符（`??`）用于默认值。在此之前，逻辑或用于此目的：
- en: '[PRE25]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: See [“The nullish coalescing operator (`??`) for default values ^(ES2020)” (§16.4)](ch_undefined-null.html#nullish-coalescing-operator)
    for more information on `??` and the downsides of `||` in this case.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 有关`??`和在此情况下`||`的缺点，请参阅[“用于默认值的空值合并运算符（`??`）^(ES2020)”（§16.4）](ch_undefined-null.html#nullish-coalescing-operator)以获取更多信息。
- en: '![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Legacy
    exercise: Default values via the Or operator (`||`)**'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '![图标“练习”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **遗留练习：通过或运算符（`||`）提供默认值**'
- en: '`exercises/booleans/default_via_or_exrc.mjs`'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: '`exercises/booleans/default_via_or_exrc.mjs`'
- en: '[17.6 Logical Not (`!`)](#logical-not)'
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[17.6 逻辑非（`!`）](#logical-not)'
- en: 'The expression `!x` (“Not `x`”) is evaluated as follows:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 表达式`!x`（“非`x`”）的评估如下：
- en: Evaluate `x`.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估`x`。
- en: Coerce the result to boolean.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将结果强制转换为布尔值。
- en: Is that result `true`? Return `false`.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 那个结果是否为`true`？返回`false`。
- en: Return `true`.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回`true`。
- en: 'Examples:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE26]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
