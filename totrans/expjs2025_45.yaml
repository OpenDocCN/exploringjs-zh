- en: 38 Sets (Set) ES6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://exploringjs.com/js/book/ch_sets.html](https://exploringjs.com/js/book/ch_sets.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[38.1 Basic Set operations](#basic-set-operations)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.1.1 Creating Sets](#creating-sets)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.1.2 Adding, removing, checking membership](#adding-removing-checking-membership)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.1.3 Determining the size of a Set and clearing it](#determining-the-size-of-a-set-and-clearing-it)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.2 Combining Sets: union, intersection, difference, symmetric difference
    ^(ES2025)](#combining-sets)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.2.1 Union: `set.union(other)` ^(ES2025)](#Set.prototype.union)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.2.2 Intersection: `set.intersection(other)` ^(ES2025)](#Set.prototype.intersection)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.2.3 Difference: `set.difference(other)` ^(ES2025)](#Set.prototype.difference)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.2.4 Symmetric difference: `set.symmetricDifference(other)` ^(ES2025)](#Set.prototype.symmetricDifference)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.3 Checking Set relationships: subset of, superset of, disjoint from ^(ES2025)](#checking-set-relationships)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.3.1 Subset: `set.isSubsetOf(other)` ^(ES2025)](#Set.prototype.isSubsetOf)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.3.2 Superset: `set.isSupersetOf(other)` ^(ES2025)](#Set.prototype.isSupersetOf)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.3.3 Disjoint: `set.isDisjointFrom(other)` ^(ES2025)](#Set.prototype.isDisjointFrom)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.4 Set-like objects (advanced)](#set-like-objects)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.4.1 Examples: finite Set-like objects](#examples-finite-setlike-objects)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.4.2 Examples: infinite Set-like data](#infinite-sets)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.4.3 FAQ: Set-like objects](#faq-setlike-objects)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.5 Iterating over Sets](#iterating-over-sets-1)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.5.1 Converting a Set to an Array](#converting-set-to-array)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.5.2 Mapping and filtering Sets via iterator methods](#applying-iterator-methods-to-sets)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.5.3 Example: combining Sets via iteration ^(ES2025)](#combining-sets-via-iteration)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.5.4 Grouping Set elements ^(ES2024)](#grouping-set-elements-es2024)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.6 Examples of using Sets](#examples-of-using-sets)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.6.1 Removing duplicates from an Array](#removing-duplicates-from-an-array)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.6.2 Creating a set of Unicode characters (code points)](#creating-a-set-of-unicode-characters-code-points)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.7 Details of the Set API (advanced)](#details-of-the-set-api-advanced)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.7.1 What Set elements are considered equal?](#what-set-elements-are-considered-equal)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.7.2 FAQ: Set API](#faq-set-api)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8 Quick reference: `Set`](#quickref-sets)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.1 `new Set()`](#new-set)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.2 `Set.prototype.*`: working with single Set elements](#setprototype-working-with-single-set-elements)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.3 `Set.prototype.*`: working with all Set elements](#setprototype-working-with-all-set-elements)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.4 `Set.prototype.*`: iterating and looping](#setprototype-iterating-and-looping)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.5 `Set.prototype.*`: combining two Sets ^(ES2025)](#setprototype-combining-two-sets-es2025)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[38.8.6 `Set.prototype.*`: checking Set relationships ^(ES2025)](#setprototype-checking-set-relationships-es2025)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: The data structure `Set` manages a duplicate-free collection of values and provides
    fast membership checks and more.
  prefs: []
  type: TYPE_NORMAL
- en: '[38.1 Basic Set operations](#basic-set-operations)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[38.1.1 Creating Sets](#creating-sets)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: There are three common ways of creating Sets.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we can use the constructor without any parameters to create an empty
    Set:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Second, we can pass an iterable (e.g., an Array) to the constructor. The iterated
    values become elements of the new Set:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Third, the `.add()` method adds elements to a Set and is chainable:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[38.1.2 Adding, removing, checking membership](#adding-removing-checking-membership)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`.add()` adds an element to a Set.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '`.has()` checks if an element is a member of a Set.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '`.delete()` removes an element from a Set.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[38.1.3 Determining the size of a Set and clearing it](#determining-the-size-of-a-set-and-clearing-it)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`.size` contains the number of elements in a Set.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '`.clear()` removes all elements of a Set.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[38.2 Combining Sets: union, intersection, difference, symmetric difference
    ^(ES2025)](#combining-sets)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: There are four methods for combining two Sets.
  prefs: []
  type: TYPE_NORMAL
- en: '[38.2.1 Union: `set.union(other)` ^(ES2025)](#Set.prototype.union)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '![](../Images/466ab17df8ce9bada54b76b314e6dec4.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The result of `set.union(other)` is a Set that has the values of both `set`
    and `other`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '[38.2.2 Intersection: `set.intersection(other)` ^(ES2025)](#Set.prototype.intersection)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '![](../Images/177acd08f608df8b69590d67b803378a.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The result of `set.intersection(other)` is a Set that has the values that `set`
    and `other` have in common:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '[38.2.3 Difference: `set.difference(other)` ^(ES2025)](#Set.prototype.difference)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '![](../Images/f64428582010ac4f391a4145f2014ec6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The result of `set.difference(other)` is a Set that has the values that are
    only in `set`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Exercise:
    Implementing `set.union()`, `set.intersection()` and `set.difference()`**'
  prefs: []
  type: TYPE_NORMAL
- en: '`exercises/sets/set-union-intersection-difference_test.mjs`'
  prefs: []
  type: TYPE_NORMAL
- en: '[38.2.4 Symmetric difference: `set.symmetricDifference(other)` ^(ES2025)](#Set.prototype.symmetricDifference)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '![](../Images/752ee7e59a3e2b58f55fc196e668112f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The result of `set.symmetricDifference(other)` is a Set that has the values
    that are only in `set` or only in `other`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'What does *symmetric difference* mean? These are equivalent definitions of
    the symmetric difference:'
  prefs: []
  type: TYPE_NORMAL
- en: (`set` − `other`) ∪ (`other` − `set`)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Elements that are only in `set` or only in `other`. The formula makes it clear
    why the symmetric difference is both symmetric and a difference.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: (`set` ∪ `other`) − (`set` ∩ `other`)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The elements of `set` and `other` – except for the elements that are in both
    Sets.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`set` xor `other`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Exclusive Or – visually: Everything that is inside the area of `set` is inverted.
    Everything that is outside `set` is not changed.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Exercise:
    Implementing `set.symmetricDifference()`**'
  prefs: []
  type: TYPE_NORMAL
- en: '`exercises/sets/set-symmetric-difference_test.mjs`'
  prefs: []
  type: TYPE_NORMAL
- en: '[38.3 Checking Set relationships: subset of, superset of, disjoint from ^(ES2025)](#checking-set-relationships)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: There are three methods for checking the relationships between two sets.
  prefs: []
  type: TYPE_NORMAL
- en: '[38.3.1 Subset: `set.isSubsetOf(other)` ^(ES2025)](#Set.prototype.isSubsetOf)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`set.isSubsetOf(other)` returns `true` if all elements of `set` are in `other`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: '[38.3.2 Superset: `set.isSupersetOf(other)` ^(ES2025)](#Set.prototype.isSupersetOf)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`set.isSupersetOf(other)` returns `true` if `set` contains all elements of
    `other`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[38.3.3 Disjoint: `set.isDisjointFrom(other)` ^(ES2025)](#Set.prototype.isDisjointFrom)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`set.isDisjointFrom(other)` returns `true` if `set` and `other` have no elements
    in common:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Exercises
    for Set relationship methods**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Implementing Set equality: `exercises/sets/set-is-equal-to_test.mjs`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Implementing `set.isSubsetOf()`: `exercises/sets/is-subset-of_test.mjs`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Implementing `set.isDisjointFrom()`: `exercises/sets/is-disjoint-from_test.mjs`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[38.4 Set-like objects (advanced)](#set-like-objects)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'A Set method whose parameter is another Set `other` does not require `other`
    to be an actual Set; it only has to be Set-like and have the following methods:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE16][PRE17]``js[PRE18] const setLike = new Map([[''b'', true]]); assert.deepEqual(  new
    Set([''a'', ''b'', ''c'']).difference(setLike),  new Set([''a'', ''c'']), ); assert.equal(  new
    Set([''a'', ''b'', ''c'']).isSupersetOf(setLike),  true, );  [PRE19] const evenNumbers
    = {  has(elem) {  return (elem % 2) === 0;  },  size: Infinity,  keys() {  throw
    new TypeError();  } }; assert.deepEqual(  new Set([0, 1, 2, 3]).difference(evenNumbers),  new
    Set([1, 3]) ); assert.deepEqual(  new Set([0, 1, 2, 3]).intersection(evenNumbers),  new
    Set([0, 2]) );  [PRE20] const set = new Set([''red'', ''green'', ''blue'']); for
    (const x of set) {  console.log(x); }  [PRE21] red green blue  [PRE22] const set
    = new Set([''red'', ''green'', ''blue'']);  `assert.deepEqual(`  `Array.from(set),`  `[''red'',
    ''green'', ''blue'']` `);`  [PRE23][PRE24] assert.deepEqual(  set.values().toArray(),  [''red'',
    ''green'', ''blue''] );  [PRE25] const set = new Set([1, 2, 3]); const mappedSet
    = new Set( // (A)  set.values().map(x => x * 2) // (B) ); assert.deepEqual(  mappedSet,  new
    Set([2, 4, 6]) );  [PRE26] const set = new Set([1, 2, 3, 4, 5]); const filteredSet
    = new Set(  set.values().filter(x => (x % 2) === 0) ); assert.deepEqual(  filteredSet,  new
    Set([2, 4]) );  [PRE27] const a = new Set([1, 2, 3]); const b = new Set([2, 3,
    4]);  `// Union` `assert.deepEqual(`  `new Set([...a, ...b]),`  `new Set([1, 2,
    3, 4])` `);`  [PRE28]  [PRE29][PRE30][PRE31] assert.deepEqual(  Object.groupBy(  new
    Set([0, -5, 3, -4, 8, 9]),  x => Math.sign(x)  ),  {  ''0'': [0],  ''-1'': [-5,-4],  ''1'':
    [3,8,9],  __proto__: null,  } );  [PRE32] const arr = [1, 2, 1, 2, 3, 3, 3]; const
    noDuplicates = Array.from(new Set(arr)); assert.deepEqual(  noDuplicates, [1,
    2, 3] );  [PRE33] assert.deepEqual(  new Set(''abc''),  new Set([''a'', ''b'',
    ''c'']) );  [PRE34] > const set = new Set([NaN, NaN, NaN]); > set.size 1 > set.has(NaN)
    true  [PRE35] > const set = new Set();  `> set.add({});` `> set.size` `1`  ``
    `> set.add({});` `> set.size` `2` ``  [PRE36]`` [PRE37]     const set = new Set([''red'',
    ''green'', ''blue'']);          [PRE38]     const set = new Set([''red'']);     set.add(''green'').add(''blue'');     assert.deepEqual(      Array.from(set),
    [''red'', ''green'', ''blue'']     );          [PRE39]     const set = new Set([''red'',
    ''green'', ''blue'']);     assert.equal(set.delete(''red''), true); // there was
    a deletion     assert.deepEqual(      Array.from(set), [''green'', ''blue'']     );          [PRE40]     const
    set = new Set([''red'', ''green'']);     assert.equal(set.has(''red''), true);     assert.equal(set.has(''blue''),
    false);          [PRE41]     const set = new Set([''red'', ''green'', ''blue'']);     assert.equal(set.size,
    3);          [PRE42]     const set = new Set([''red'', ''green'', ''blue'']);     assert.equal(set.size,
    3);     set.clear();     assert.equal(set.size, 0);          [PRE43]     const
    set = new Set([''red'', ''green'']);     for (const x of set.values()) {      console.log(x);     }          [PRE44]     red     green          [PRE45]     const
    set = new Set([''red'', ''green'']);     for (const x of set) {      console.log(x);     }          [PRE46]     red     green          [PRE47]     forEach(      callback:
    (value: T, key: T, theSet: Set<T>) => void,      thisArg?: any     ): void          [PRE48]     const
    set = new Set([''red'', ''green'']);     set.forEach(x => console.log(x));          [PRE49]     red     green          [PRE50]     >
    new Set([''a'', ''b'', ''c'']).entries().toArray()     [ [ ''a'', ''a'' ], [ ''b'',
    ''b'' ], [ ''c'', ''c'' ] ]          [PRE51]     const set = new Set([''a'', ''b'',
    ''c'']);     const map = new Map(set.entries());     assert.deepEqual(      Array.from(map.entries()),      [[''a'',''a''],
    [''b'',''b''], [''c'',''c'']]     );          [PRE52]     > new Set([''a'', ''b'',
    ''c'']).keys().toArray()     [ ''a'', ''b'', ''c'' ]          [PRE53]     Set<T>.prototype.union(other:
    SetLike<T>): Set<T>          [PRE54]     assert.deepEqual(      new Set([''a'',
    ''b'']).union(new Set([''b'', ''c''])),      new Set([''a'', ''b'', ''c''])     );          [PRE55]     Set<T>.prototype.intersection(other:
    SetLike<T>): Set<T>          [PRE56]     assert.deepEqual(      new Set([''a'',
    ''b'']).intersection(new Set([''b'', ''c''])),      new Set([''b''])     );          [PRE57]     Set<T>.prototype.difference(other:
    SetLike<T>): Set<T>          [PRE58]     assert.deepEqual(      new Set([''a'',
    ''b'']).difference(new Set([''b'', ''c''])),      new Set([''a''])     );          [PRE59]     Set<T>.prototype.symmetricDifference(other:
    SetLike<T>): Set<T>          [PRE60]     assert.deepEqual(      new Set([''a'',
    ''b'']).symmetricDifference(new Set([''b'', ''c''])),      new Set([''a'', ''c''])     );          [PRE61]     Set<T>.prototype.isSubsetOf(other:
    SetLike<T>): boolean          [PRE62]     assert.deepEqual(      new Set([''a'',
    ''b'']).isSubsetOf(new Set([''a'', ''b'', ''c''])),      true     );          [PRE63]     Set<T>.prototype.isSupersetOf(other:
    SetLike<T>): boolean          [PRE64]     assert.deepEqual(      new Set([''a'',
    ''b'', ''c'']).isSupersetOf(new Set([''a'', ''b''])),      true     );          [PRE65]     Set<T>.prototype.isDisjointFrom(other:
    SetLike<T>): boolean          [PRE66]     assert.deepEqual(      new Set([''a'',
    ''b'', ''c'']).isDisjointFrom(new Set([''x''])),      true     );          [PRE67]`
    [PRE68][PRE69][PRE70][PRE71][PRE72] [PRE73]'
  prefs: []
  type: TYPE_NORMAL
