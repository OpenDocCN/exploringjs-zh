- en: 12 Getting started with exercises
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://exploringjs.com/js/book/ch_exercises.html](https://exploringjs.com/js/book/ch_exercises.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[12.1 Exercises](#exercises)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[12.1.1 Installing the exercises](#installing-the-exercises)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[12.1.2 Running exercises](#running-exercises)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[12.2 Unit tests in JavaScript](#unit-tests-in-javascript)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[12.2.1 A typical test](#a-typical-test)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[12.2.2 Asynchronous tests in Mocha](#async-tests-mocha)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Throughout most chapters, there are boxes that point to exercises. These are
    a paid feature, but a comprehensive preview is available. This chapter explains
    how to get started with them.
  prefs: []
  type: TYPE_NORMAL
- en: '[12.1 Exercises](#exercises)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[12.1.1 Installing the exercises](#installing-the-exercises)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'To install the exercises:'
  prefs: []
  type: TYPE_NORMAL
- en: Download and unzip `exploring-js-code.zip`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Follow the instructions in `README.txt`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[12.1.2 Running exercises](#running-exercises)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Exercises are referred to by path in this book.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For example: `exercises/exercises/first_module_test.mjs`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Within each file:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The first line contains the command for running the exercise.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The following lines describe what you have to do.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[12.2 Unit tests in JavaScript](#unit-tests-in-javascript)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: All exercises in this book are tests that are run via the test framework [Mocha](https://mochajs.org).
    This section gives a brief introduction.
  prefs: []
  type: TYPE_NORMAL
- en: '[12.2.1 A typical test](#a-typical-test)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Typical test code is split into two parts:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Part 1: the code to be tested.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Part 2: the tests for the code.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Take, for example, the following two files:'
  prefs: []
  type: TYPE_NORMAL
- en: '`id.mjs` (code to be tested)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`id_test.mjs` (tests)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[12.2.1.1 Part 1: the code](#part-1-the-code)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The code itself resides in `id.mjs`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The key thing here is: everything we want to test must be exported. Otherwise,
    the test code can’t access it.'
  prefs: []
  type: TYPE_NORMAL
- en: '[12.2.1.2 Part 2: the tests](#part-2-the-tests)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '![Icon “reading”](../Images/0fb62b2fc33a72829ae9fb174dedd0d2.png) **Don’t worry
    about the exact details of tests**'
  prefs: []
  type: TYPE_NORMAL
- en: 'You don’t need to worry about the exact details of tests: They are always implemented
    for you. Therefore, you only need to read them, but not write them.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The tests for the code reside in `id_test.mjs`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1] `import * as assert from ''node:assert/strict'';` `import {id} from
    ''./id.mjs'';`  `` `test(''My test'', () => {`  `assert.equal(`  `id(''abc''),
    ''abc''`  `);` `});` `` [PRE2]'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]`What’s inside this file?    *   It starts with the command for running
    the test. *   Next are instructions for how to implement the solution. *   `suite()`
    provides a title for the tests in this file. *   We use the Node.js `assert` module
    in *strict* mode. *   Function `test()` defines named test cases. *   The core
    of the test is `assert.equal()` checking the result of the imported function `id()`.
    That’s the function we have to implement.    To run the test, we execute the following
    command in a shell:    [PRE4]    The `t` is an abbreviation for `test`. That is,
    the long version of this command is:    [PRE5]    ![Icon “exercise”](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png) **Exercise:
    Your first exercise**    The following exercise gives you a first taste of what
    exercises are like:    *   `exercises/exercises/first_module_test.mjs`    ####
    [12.2.2 Asynchronous tests in Mocha](#async-tests-mocha)    ![Icon “reading”](../Images/0fb62b2fc33a72829ae9fb174dedd0d2.png) **Reading**    You
    may want to postpone reading this section until you get to the chapters on asynchronous
    programming.    Writing tests for asynchronous code requires extra work: The test
    receives its results later and has to signal to Mocha that it isn’t finished yet
    when it returns. The following subsections examine three ways of doing so.    #####
    [12.2.2.1 Asynchronicity via callbacks](#asynchronicity-via-callbacks)    If the
    callback we pass to `test()` has a parameter (e.g., `done`), Mocha switches to
    callback-based asynchronicity. When we are done with our asynchronous work, we
    have to call `done`:    [PRE6]    This is what `divideCallback()` looks like:    [PRE7]    #####
    [12.2.2.2 Asynchronicity via Promises](#asynchronicity-via-promises)    If a test
    returns a Promise, Mocha switches to Promise-based asynchronicity. A test is considered
    successful if the Promise is fulfilled and failed if the Promise is rejected or
    if a settlement takes longer than a timeout.    [PRE8]    `dividePromise()` is
    implemented as follows:    [PRE9]    ##### [12.2.2.3 Async functions as test “bodies”](#async-functions-as-test-bodies)    Async
    functions always return Promises. Therefore, an async function is a convenient
    way of implementing an asynchronous test. The following code is equivalent to
    the previous example.    [PRE10]    We don’t need to explicitly return anything:
    The implicitly returned `undefined` is used to fulfill the Promise returned by
    this async function. And if the test code throws an exception, then the async
    function takes care of rejecting the returned Promise.[PRE11]``'
  prefs: []
  type: TYPE_NORMAL
