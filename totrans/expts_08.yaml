- en: '6 How TypeScript is used: workflows, tools, etc.'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://exploringjs.com/ts/book/ch_typescript-workflows.html](https://exploringjs.com/ts/book/ch_typescript-workflows.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: (Ad, please don’t block.)
  prefs: []
  type: TYPE_NORMAL
- en: '[6.1 TypeScript is JavaScript plus type syntax](#typescript-is-javascript-plus-type-syntax)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2 Ways of running TypeScript code](#ways-of-running-typescript-code)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2.1 Running TypeScript directly](#running-typescript-directly-1)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2.2 Bundling TypeScript](#bundling)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2.3 Transpiling TypeScript to JavaScript](#transpiling-typescript-to-javascript)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2.4 The filename extensions of locally imported TypeScript modules](#the-filename-extensions-of-locally-imported-typescript-modules)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.3 Publishing a library package to the npm registry](#publishing-a-library-package-to-the-npm-registry)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.3.1 Essential: `.js` and `.d.ts`](#essential-js-and-d-ts)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.3.2 Optional: source maps](#optional-source-maps)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.4 DefinitelyTyped: a repository with types for type-less npm packages](#definitelytyped-a-repository-with-types-for-type-less-npm-packages)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.5 Compiling TypeScript with tools other than `tsc`](#compiling-typescript-with-tools-other-than-tsc)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.5.1 Type stripping](#type-stripping-1)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.5.2 Isolated declarations](#isolated-declarations)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.6 JSR – the JavaScript registry](#jsr-the-javascript-registry)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.6.1 Who owns JSR?](#who-owns-jsr)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.7 Editing TypeScript](#editing-typescript)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.8 Type-checking JavaScript files](#check-js)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Read this chapter if you are a JavaScript programmer and want to get a rough
    idea of what using TypeScript is like (think first step before learning more details).
    You’ll get answers to the following questions:'
  prefs: []
  type: TYPE_NORMAL
- en: How is TypeScript code different from JavaScript code?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How is TypeScript code run?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How does TypeScript help during editing in an IDE?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This chapter focuses on how TypeScript works. If you want to know more about
    why it is useful, see [“Sales pitch for TypeScript” (§2)](ch_why-typescript.html#ch_why-typescript).
  prefs: []
  type: TYPE_NORMAL
- en: '[6.1 TypeScript is JavaScript plus type syntax](#typescript-is-javascript-plus-type-syntax)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Let’s start with a rough first description of what TypeScript is. That description
    is not completely accurate (there are exceptions and details that I’m omitting),
    but it should give you a solid first idea:'
  prefs: []
  type: TYPE_NORMAL
- en: TypeScript is JavaScript plus type syntax.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What are the purposes of these two parts?
  prefs: []
  type: TYPE_NORMAL
- en: 'The JavaScript syntax is what is run and what exists at runtime: In order to
    run TypeScript code, the type syntax must be removed – via compilation that results
    in pure JavaScript. That code is executed by a JavaScript engine.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The type syntax is only used during editing and compiling; it has no effect
    at runtime:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: On one hand, it supports *type checking* which reports errors if there are inconsistencies
    within the types or between the types and the JavaScript values. Type checking
    runs during editing and during compiling.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: On the other hand, the types improve editing via auto-completion, type hints,
    refactorings, etc.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Consider the following TypeScript code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'If we want to run this code, we have to remove the type syntax and get JavaScript
    that is executed by a JavaScript engine:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[6.2 Ways of running TypeScript code](#ways-of-running-typescript-code)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Consider the following TypeScript project:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '`tsconfig.json` is a configuration file that tells TypeScript how to type-check
    and compile our code.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The remaining files are TypeScript source code.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s explore the different ways in which we can run this code.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.2.1 Running TypeScript directly](#running-typescript-directly-1)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Most server-side runtimes now can run TypeScript code directly – e.g., Node.js,
    Deno and Bun. In other words, the following works in Node.js 23.6.0+:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[6.2.2 Bundling TypeScript](#bundling)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'When developing a web app, *bundling* is a common practice – even for pure
    JavaScript projects: All the JavaScript code (app code and library code) is combined
    into a single JavaScript file (sometimes more, but never more than a few) – which
    is typically loaded from an HTML file. That has several benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: Prior to HTTP/2, only one file could be served per connection. But that benefit
    of bundling is not relevant anymore.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each file the client has to request and process, still incurs a little overhead
    (even though no new connection is opened).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Web servers don’t have to serve many (often small) files – which helps with
    efficiency.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A single large file can be compressed better than many small files.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Most bundlers support TypeScript – either directly or via plugins. That means,
    we run our TypeScript code via the JavaScript file `bundle.js` that was produced
    by a bundler:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[6.2.3 Transpiling TypeScript to JavaScript](#transpiling-typescript-to-javascript)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Another option is to compile out TypeScript app to JavaScript via the TypeScript
    compiler `tsc` and run the resulting code. Before server-side JavaScript runtimes
    had built-in support for TypeScript, that was the only way we could run TypeScript
    there.
  prefs: []
  type: TYPE_NORMAL
- en: 'Compiling source code to source code is also called *transpiling*. `tsconfig.json`
    specifies where the transpilation output is written. Let’s assume we write it
    to the directory `dist/`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[6.2.4 The filename extensions of locally imported TypeScript modules](#the-filename-extensions-of-locally-imported-typescript-modules)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: When it comes to filename extensions of locally imported TypeScript modules,
    we must distinguish between code that is transpiled and code that is run directly.
  prefs: []
  type: TYPE_NORMAL
- en: 'By default, TypeScript does not change the specifiers of imported modules.
    Therefore, code that is transpiled must look like this (we import `util.js`, from
    JavaScript code):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'However, such code does not work if we run it directly. There, we must write
    (we import `util.ts` from TypeScript code):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: We can also tell TypeScript to change the filename extensions of local imports
    from `.ts` to `.js` ([more information](ch_tsconfig-json.html#running-typescript-directly)).
    Then the previous code can also be transpiled.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.3 Publishing a library package to the npm registry](#publishing-a-library-package-to-the-npm-registry)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The npm registry is still the most popular means of publishing packages. Even
    though Node.js runs TypeScript code, packages must be deployed as JavaScript code.
    That enables JavaScript code to use library packages written in TypeScript. However,
    we additionally want to support TypeScript features. Therefore, a single library
    file `lib.ts` is often deployed as five files (four of which are compiled by TypeScript
    from `lib.ts`):'
  prefs: []
  type: TYPE_NORMAL
- en: 'Essential:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.js`: the JavaScript part of `lib.ts`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.d.ts`: the type part of `lib.ts` (a *declaration file*)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Optional: source maps. They map source code locations of compilation output
    to `lib.ts`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.js.map`: source map for `lib.js`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.d.ts.map`: source map for `lib.d.ts`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.ts`: the target of the previous two source maps'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: (More on what all of that means in a second.)
  prefs: []
  type: TYPE_NORMAL
- en: 'As an example, consider the following library package:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '`package.json` is npm’s description of our library package. Some of its data,
    such as the so-called *package exports*, are also used by TypeScript – e.g. to
    look up type information when someone imports from our package.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Every file in `dist/` was generated by TypeScript. While it is uploaded to the
    npm registry, it is usually not added to version control systems because it can
    easily be regenerated.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Only `tsconfig.json` is not uploaded to the npm registry.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[6.3.1 Essential: `.js` and `.d.ts`](#essential-js-and-d-ts)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'It’s interesting to see the combined JavaScript plus types in `.lib.ts` be
    split into `lib.js` with only JavaScript and `lib.d.ts` with only types. Why do
    that? It enables library packages to be used by either JavaScript code or TypeScript
    code:'
  prefs: []
  type: TYPE_NORMAL
- en: JavaScript code can ignore `.d.ts` files.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: TypeScript uses them for type checking, auto-completion, refactorings, etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Actually, behind the scenes, many editors (e.g. Visual Studio Code) use a kind
    of lightweight TypeScript mode when editing JavaScript code so that we also get
    simple type checking and code completion there.
  prefs: []
  type: TYPE_NORMAL
- en: This is the TypeScript input `lib.ts`
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'It is split into `lib.js` on one hand:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 'And `lib.d.ts` on the other hand:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'Notes:'
  prefs: []
  type: TYPE_NORMAL
- en: Both files point to their source maps.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'By default, both files contain comments (but we can tell TypeScript not to
    include them):'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.js` has all comments so that the code is easier to read.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.d.ts` only has JSDoc comments (`/** */`) because they are used by many
    IDEs to display inline documentation.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[6.3.2 Optional: source maps](#optional-source-maps)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'If we compile a file `I` to a file `O` then a source map for `O` maps source
    code locations in `O` to source code locations in `I`. That means we can work
    with `O` but display information from `I` – e.g.:'
  prefs: []
  type: TYPE_NORMAL
- en: '`lib.js.map`: maps `lib.js` locations to `lib.ts` locations and gives us debugging
    and stack traces for the latter when we run the former.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`lib.d.ts.map`: maps `lib.d.ts` lines to `lib.ts` lines. It enables “go to
    definition” for imports from `lib.ts` to take us to that file.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All source-map-related functionality except stack traces require access to the
    original TypeScript source code. That’s why it makes sense to include `lib.ts`
    if there are source maps.
  prefs: []
  type: TYPE_NORMAL
- en: 'This is what `lib.js.map` looks like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'This is what `lib.d.ts.map` looks like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: In both cases, the actual content of `"mappings"` was abbreviated. And in the
    actual output of `tsc`, the JSON is always squeezed into a single line.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.4 DefinitelyTyped: a repository with types for type-less npm packages](#definitelytyped-a-repository-with-types-for-type-less-npm-packages)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'These days, many npm packages come with TypeScript types. However, not all
    of them do. In that case, [DefinitelyTyped](https://definitelytyped.org) may help:
    If it supports a type-less package `pkg` then we can additionally install a package
    `@types/pkg` with types for `pkg`.'
  prefs: []
  type: TYPE_NORMAL
- en: One important DefinitelyTyped package for Node.js is `@types/node` with types
    for all of its APIs. If you develop TypeScript on Node.js, you will usually have
    this package as a development dependency.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.5 Compiling TypeScript with tools other than `tsc`](#compiling-typescript-with-tools-other-than-tsc)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Let’s recap all the tasks performed by `tsc` (we’ll ignore source maps in this
    section):'
  prefs: []
  type: TYPE_NORMAL
- en: It compiles TypeScript files to JavaScript files.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It compiles TypeScript files to type declaration files.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It type-checks TypeScript files.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '##3 is so complex that only `tsc` can do it. However, for both #1 and #2, there
    are slightly simpler subsets of TypeScript where compilation does not involve
    much more than syntactic processing. That means that we can use external, faster
    tools for #1 and #2.'
  prefs: []
  type: TYPE_NORMAL
- en: There are even `tsconfig.json` settings to warn us if we don’t stay within those
    subsets of TypeScript ([more information](ch_tsconfig-json.html#compiling-without-tsc)).
    Doing that is not much of a sacrifice in practice.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.5.1 Type stripping](#type-stripping-1)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '*Type stripping* is a simple and fast way of compiling TypeScript to JavaScript.
    It’s what Node.js uses when it runs TypeScript. Type stripping is fast because
    it only supports a subset of TypeScript where two things are possible:'
  prefs: []
  type: TYPE_NORMAL
- en: Type syntax can be detected and removed by only parsing the syntax – without
    performing additional semantic analyses.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'No non-type language features are transpiled. In other words: Removing the
    type syntax is enough to produce JavaScript.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '#2 means that there are several TypeScript features that we can’t use – e.g.,
    enums and JSX (HTML-like syntax inside TypeScript, as used, e.g., by React).'
  prefs: []
  type: TYPE_NORMAL
- en: One considerable benefit of type stripping is that it does not need any configuration
    (via `tsconfig.json` or other means) because it’s so simple. That makes platforms
    that use it more stable w.r.t. changes made to TypeScript.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.5.1.1 Type stripping technique: replacing types with spaces](#ts-blank-space)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'One clever technique for type stripping was pioneered by the [`ts-blank-space`](https://bloomberg.github.io/ts-blank-space/)
    tool (by Ashley Claymore for Bloomberg): Instead of simply removing the type syntax,
    it replaces it with spaces. That means that source code positions in the output
    don’t change. Therefore, any positions that show up (e.g.) in stack traces still
    work for the input and there is less of a need for source maps: You still need
    them for debugging and going to definitions but JavaScript generated by type stripping
    is relatively close to the original TypeScript and you are often OK even then.'
  prefs: []
  type: TYPE_NORMAL
- en: 'For example - input (TypeScript):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'Output (JavaScript):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: If you want to explore further, you can check out [the ts-blank-space playground](https://bloomberg.github.io/ts-blank-space/play/).
  prefs: []
  type: TYPE_NORMAL
- en: '[6.5.2 Isolated declarations](#isolated-declarations)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: “Isolated declaration” is a style of writing TypeScript that makes it easier
    for external tools to generate declaration files. It mainly means we have to add
    type annotations in locations where the TypeScript compiler `tsc` does not need
    them – thanks to its ability to automatically derive types (so-called *type inference*).
    However, external tools are simpler and faster if they don’t need that ability.
    Additionally, they don’t have to visit and analyze external files if the type
    information is provided locally.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following example shows how the isolated declaration style changes code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: Note that isolated declarations only affect constructs that are exported. Module-internal
    code does not show up in declaration files.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.6 JSR – the JavaScript registry](#jsr-the-javascript-registry)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[The JavaScript registry JSR](https://jsr.io) is an alternative to npm and
    the npm registry for publishing packages. It works as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: For TypeScript packages, you only upload `.ts` files.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How to install a TypeScript package depends on the platform:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: On JavaScript platforms where TypeScript-only library packages are supported,
    JSR only installs TypeScript.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: On all other platforms, JSR automatically generates `.js` files and `.d.ts`
    files and installs those, along with the `.ts` files. To make automatic generation
    possible, the TypeScript code must follow a set of rules called [“no slow types”](https://jsr.io/docs/about-slow-types)
    – which is similar to [isolated declarations](#isolated-declarations).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In contrast, with the npm registry, your TypeScript library package is only
    usable on Node.js if you upload `.js` files and `.d.ts` files.
  prefs: []
  type: TYPE_NORMAL
- en: JSR also provides several features that npm doesn’t such as automatic generation
    of documentation. See [“Why JSR?”](https://jsr.io/docs/why) in the official documentation
    for more information.
  prefs: []
  type: TYPE_NORMAL
- en: '[6.6.1 Who owns JSR?](#who-owns-jsr)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Quoting the official documentation page [“Governance”](https://jsr.io/docs/governance/overview):'
  prefs: []
  type: TYPE_NORMAL
- en: JSR is not owned by any one person or organization. It is a community-driven
    project that is open to all, built for the entire JavaScript ecosystem.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: JSR is currently operated by the Deno company. We are currently working on establishing
    a governance board to oversee the project, which will then work on moving the
    project to a foundation.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[6.7 Editing TypeScript](#editing-typescript)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Two popular IDEs for JavaScript are:'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Visual Studio Code*](https://code.visualstudio.com/) (free)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[*WebStorm*](https://www.jetbrains.com/webstorm/) (free for non-commercial
    use)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The observations in this section are about Visual Studio Code, but may apply
    to other IDEs, too.
  prefs: []
  type: TYPE_NORMAL
- en: 'With Visual Studio Code, we get two different ways of type checking:'
  prefs: []
  type: TYPE_NORMAL
- en: Any file that is currently open is automatically type-checked within Visual
    Studio Code. It order to provide that functionality, it comes with its own installation
    of TypeScript.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If we want to type-check all of a code base, we must invoke the TypeScript compiler
    `tsc`. We can do that via Visual Studio Code’s *tasks* – a built-in way of invoking
    external tools (for type checking, compiling, bundling, etc.). The official documentation
    has [more information on tasks](https://code.visualstudio.com/Docs/editor/tasks).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[6.8 Type-checking JavaScript files](#check-js)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Optionally, TypeScript can also type-check JavaScript files. Obviously that
    will only give us limited results. However, to help TypeScript, we can add type
    information via JSDoc comments – e.g.:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: If we do that, we are still writing TypeScript, just with a different syntax.
  prefs: []
  type: TYPE_NORMAL
- en: 'Benefits of this approach:'
  prefs: []
  type: TYPE_NORMAL
- en: No need for a build step to run the code – even on platforms (such as browsers)
    that don’t support TypeScript.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We can also generate `.d.ts` files from `.js` files with JSDoc comments. That
    is an extra build step, though. How to do that is explained in [the TypeScript
    Handbook](https://www.typescriptlang.org/docs/handbook/declaration-files/dts-from-js.html).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: It enables us to make a JavaScript code base more type-safe – in small incremental
    steps.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Downside of this approach:'
  prefs: []
  type: TYPE_NORMAL
- en: The syntax becomes less pleasant to use.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To explain the downside – consider how we define an interface in TypeScript:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: 'Doing that via a JSDoc comment looks like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: 'More information in the TypeScript Handbook:'
  prefs: []
  type: TYPE_NORMAL
- en: '[“Type Checking JavaScript Files”](https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[“Creating `.d.ts` Files from `.js` files”](https://www.typescriptlang.org/docs/handbook/declaration-files/dts-from-js.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[“JSDoc Reference”](https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
