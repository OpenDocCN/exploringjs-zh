- en: 20 Intersections of object types
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 20 对象类型交集
- en: 原文：[https://exploringjs.com/ts/book/ch_intersections-object-types.html](https://exploringjs.com/ts/book/ch_intersections-object-types.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://exploringjs.com/ts/book/ch_intersections-object-types.html](https://exploringjs.com/ts/book/ch_intersections-object-types.html)
- en: (Ad, please don’t block.)
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: (请勿拦截，广告。)
- en: '[20.1 Intersections of object types](#intersections-of-object-types)'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1 对象类型交集](#intersections-of-object-types)'
- en: '[20.1.1 Extending vs. intersection](#extending-vs-intersection)'
  id: totrans-4
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1.1 扩展与交集](#extending-vs-intersection)'
- en: '[20.1.2 Example: `NonNullable` (`T & {}`)](#NonNullable)'
  id: totrans-5
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1.2 示例：`NonNullable` (`T & {}`)](#NonNullable)'
- en: '[20.1.3 Example: inferred intersections](#example-inferred-intersections)'
  id: totrans-6
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1.3 示例：推断出的交集](#example-inferred-intersections)'
- en: '[20.1.4 Example: combining two object types via an intersection](#example-combining-two-object-types-via-an-intersection)'
  id: totrans-7
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1.4 示例：通过交集组合两个对象类型](#example-combining-two-object-types-via-an-intersection)'
- en: In this chapter, we explore what intersections of object types can be used for
    in TypeScript.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨在TypeScript中对象类型交集的用途。
- en: 'In this chapter, *object type* means:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，*对象类型*指的是：
- en: Object literal type
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对象字面量类型
- en: Interface type
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接口类型
- en: Mapped type (such as `Record`)
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 映射类型（例如`Record`）
- en: '[20.1 Intersections of object types](#intersections-of-object-types)'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[20.1 对象类型交集](#intersections-of-object-types)'
- en: 'The intersection of two object types has the properties of both:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 两个对象类型的交集具有两者的属性：
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[20.1.1 Extending vs. intersection](#extending-vs-intersection)'
  id: totrans-16
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[20.1.1 扩展与交集](#extending-vs-intersection)'
- en: 'With interfaces, we can use `extends` to add properties:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用接口，我们可以使用`extends`来添加属性：
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'With object types, we can use an intersection:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 使用对象类型，我们可以使用交集：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: One caveat is that only `extends` supports overriding. For more information,
    see [$type](ch_typing-objects.html#extending-interfaces).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 一个需要注意的问题是，只有`extends`支持重写。更多信息，请参阅[$type](ch_typing-objects.html#extending-interfaces)。
- en: '[20.1.2 Example: `NonNullable` (`T & {}`)](#NonNullable)'
  id: totrans-22
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[20.1.2 示例：`NonNullable` (`T & {}`)](#NonNullable)'
- en: '[PRE3]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The result of `NonNullable<T>` is a type that is the intersection of `T` and
    all non-nullish values.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`NonNullable<T>`的结果是一个类型，它是`T`与所有非空值交集的结果。'
- en: It’s interesting that `string & {}` is `string` (line A).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 很有趣的是`string & {}`等于`string`（行A）。
- en: '[20.1.3 Example: inferred intersections](#example-inferred-intersections)'
  id: totrans-26
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[20.1.3 示例：推断出的交集](#example-inferred-intersections)'
- en: 'The following code shows how the inferred type of `obj` changes when we use
    the built-in type guard `in` (line A and line B):'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码展示了当我们使用内置类型守卫`in`时，`obj`的推断类型是如何变化的（行A和行B）：
- en: '[PRE4]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[20.1.4 Example: combining two object types via an intersection](#example-combining-two-object-types-via-an-intersection)'
  id: totrans-29
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '[20.1.4 示例：通过交集组合两个对象类型](#example-combining-two-object-types-via-an-intersection)'
- en: 'In the next example, we combine the type `Obj` of a parameter with the type
    `WithKey` – by adding the property `.key` of `WithKey` to the parameter:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个示例中，我们将参数的类型`Obj`与类型`WithKey`组合在一起——通过向参数添加`WithKey`的属性`.key`：
- en: '[PRE5]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '`addKey()` is used like this:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`addKey()`的使用方式如下：'
- en: '[PRE6]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
