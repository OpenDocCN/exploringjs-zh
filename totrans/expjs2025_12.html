<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>10 Consoles: interactive JavaScript command lines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>10 Consoles: interactive JavaScript command lines</h1>
<blockquote>原文：<a href="https://exploringjs.com/js/book/ch_console.html">https://exploringjs.com/js/book/ch_console.html</a></blockquote>

        
    
    
    
<nav class="local-toc">
  <ol>
    <li>
      <a href="#trying-out-code">10.1 Trying out JavaScript code</a>
      <ol>
        <li>
          <a href="#browser-consoles">10.1.1 Browser consoles</a>
        </li>
        <li>
          <a href="#the-nodejs-repl">10.1.2 The Node.js REPL</a>
        </li>
        <li>
          <a href="#other-options">10.1.3 Other options</a>
        </li>
      </ol>
    </li>
    <li>
      <a href="#the-console-api-printing-data-and-more">10.2 The <code>console.*</code> API: printing data and more</a>
      <ol>
        <li>
          <a href="#printing-values-consolelog-stdout">10.2.1 Printing values: <code>console.log()</code> (stdout)</a>
        </li>
        <li>
          <a href="#printing-error-information-consoleerror-stderr">10.2.2 Printing error information: <code>console.error()</code> (stderr)</a>
        </li>
        <li>
          <a href="#printing-nested-objects-via-jsonstringify">10.2.3 Printing nested objects via <code>JSON.stringify()</code></a>
        </li>
      </ol>
    </li>
  </ol>
</nav>
<h3 id="trying-out-code"><a class="heading-id-link" href="#trying-out-code">10.1 Trying out JavaScript code</a></h3>
<p>You have many options for quickly running pieces of JavaScript code. The following subsections describe a few of them.</p>
<h4 id="browser-consoles"><a class="heading-id-link" href="#browser-consoles">10.1.1 Browser consoles</a></h4>
<p><span id="index-entry-console"/></p>
<p>Web browsers have so-called <em>consoles</em>: interactive command lines to which you can print text via <code>console.log()</code> and where you can run pieces of code. How to open the console differs from browser to browser. <a href="#fig:chrome-console">Figure 10.1</a> shows the console of Google Chrome.</p>
<p>To find out how to open the console in your web browser, you can do a web search for “console «name-of-your-browser»”. These are pages for a few commonly used web browsers:</p>
<ul>
  <li>
    <a href="https://developer.apple.com/safari/tools/">Apple Safari</a>
  </li>
  <li>
    <a href="https://developer.chrome.com/docs/devtools/console/">Google Chrome</a>
  </li>
  <li>
    <a href="https://learn.microsoft.com/en-us/microsoft-edge/devtools-guide-chromium/console/">Microsoft Edge</a>
  </li>
  <li>
    <a href="https://firefox-source-docs.mozilla.org/devtools-user/web_console/">Mozilla Firefox</a>
  </li>
</ul>
<figure id="fig:chrome-console" class="float">
  <p><img src="../Images/580ca1a421b5d5c7f62cc4a2940edfb9.png" alt="" style="width:417.6px; height:337.6px" data-original-src="https://exploringjs.com/js/book/img/big-picture/chrome-console.png"/></p>
  <figcaption>
    <p><span class="float-label">Figure 10.1:</span> The console of the web browser “Google Chrome” is open (in the bottom half of window) while visiting a web page.</p>
  </figcaption>
</figure>
<h4 id="the-nodejs-repl"><a class="heading-id-link" href="#the-nodejs-repl">10.1.2 The Node.js REPL</a></h4>
<p><span id="index-entry-REPL"/></p>
<p><em>REPL</em> stands for <em>read-eval-print loop</em> and basically means <em>command line</em>. To use it, you must first start Node.js from an operating system command line, via the command <code>node</code>. Then an interaction with it looks as depicted in <a href="#fig:nodejs-repl">figure 10.2</a>: The text after <code>&gt;</code> is input from the user; everything else is output from Node.js.</p>
<figure id="fig:nodejs-repl" class="float">
  <p><img src="../Images/2834d011d236e1cdcf418a757840a177.png" width="271" height="156" alt="" data-original-src="https://exploringjs.com/js/book/img/big-picture/nodejs-repl.png"/></p>
  <figcaption>
    <p><span class="float-label">Figure 10.2:</span> Starting and using the Node.js REPL (interactive command line).</p>
  </figcaption>
</figure>
<div class="boxout">
  <p><img src="../Images/0fb62b2fc33a72829ae9fb174dedd0d2.png" class="boxout-icon" height="24" alt="Icon “reading”" data-original-src="https://exploringjs.com/js/book/icon/reading.svg"/> <strong>Reading: REPL interactions</strong></p>
  <div class="boxout-vspace"/>
  <p>I occasionally demonstrate JavaScript via REPL interactions. Then I also use greater-than symbols (<code>&gt;</code>) to mark input – for example:</p>
<pre class="language-node-repl">
<code><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-number">3</span> + <span class="hljs-number">5</span></span></code>
<code>8</code>
</pre>
</div>
<h4 id="other-options"><a class="heading-id-link" href="#other-options">10.1.3 Other options</a></h4>
<p>Other options include:</p>
<ul>
  <li>
    <p>There are many web apps that let you experiment with JavaScript in web browsers – for example, <a href="https://babeljs.io/repl">Babel’s REPL</a>.</p>
  </li>
  <li>
    <p>There are also native apps and IDE plugins for running JavaScript.</p>
  </li>
</ul>
<div class="boxout">
  <p><img src="../Images/5aa4bf88dc66ecb2bac6be4022a1fed4.png" class="boxout-icon" height="24" alt="Icon “warning”" data-original-src="https://exploringjs.com/js/book/icon/warning.svg"/> <strong>Consoles often run in non-strict mode</strong></p>
  <div class="boxout-vspace"/>
  <p>In modern JavaScript, most code (e.g., modules) is executed in <a href="ch_syntax.html#strict-mode">strict mode</a>. However, consoles often run in non-strict mode. Therefore, you may occasionally get slightly different results when using a console to execute code from this book.</p>
</div>
<h3 id="the-console-api-printing-data-and-more"><a class="heading-id-link" href="#the-console-api-printing-data-and-more">10.2 The <code>console.*</code> API: printing data and more</a></h3>
<p>In browsers, the console is something you can bring up that is normally hidden. For Node.js, the console is the terminal that Node.js is currently running in.</p>
<p>The full <code>console.*</code> API is documented <a href="https://developer.mozilla.org/en-US/docs/Web/API/console">on MDN web docs</a> and <a href="https://nodejs.org/api/console.html">on the Node.js website</a>. It is not part of the JavaScript language standard, but much functionality is supported by both browsers and Node.js.</p>
<p>In this chapter, we only look at the following two methods for printing data (“printing” means displaying in the console):</p>
<ul>
  <li>
    <code>console.log()</code>
  </li>
  <li>
    <code>console.error()</code>
  </li>
</ul>
<h4 id="printing-values-consolelog-stdout"><a class="heading-id-link" href="#printing-values-consolelog-stdout">10.2.1 Printing values: <code>console.log()</code> (stdout)</a></h4>
<p><span id="index-entry-console.log--"/></p>
<p>There are two variants of this operation:</p>
<pre class="language-ts">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...<span class="hljs-attr">values</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">any</span>&gt;): <span class="hljs-built_in">void</span></code>
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-attr">pattern</span>: <span class="hljs-built_in">string</span>, ...<span class="hljs-attr">values</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">any</span>&gt;): <span class="hljs-built_in">void</span></code>
</pre>
<h5 id="printing-multiple-values"><a class="heading-id-link" href="#printing-multiple-values">10.2.1.1 Printing multiple values</a></h5>
<p>The first variant prints (text representations of) values on the console:</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'abc'</span>, <span class="hljs-number">123</span>, <span class="hljs-literal">true</span>);</code>
</pre>
<p>Output:</p>
<pre class="language-txt">
<code>abc 123 true</code>
</pre>
<p>At the end, <code>console.log()</code> always prints a newline. Therefore, if you call it with zero arguments, it just prints a newline.</p>
<h5 id="printing-a-string-with-substitutions"><a class="heading-id-link" href="#printing-a-string-with-substitutions">10.2.1.2 Printing a string with substitutions</a></h5>
<p>The second variant performs string substitution:</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Test: %s %j'</span>, <span class="hljs-number">123</span>, <span class="hljs-string">'abc'</span>);</code>
</pre>
<p>Output:</p>
<pre class="language-txt">
<code>Test: 123 "abc"</code>
</pre>
<p>These are some of the directives you can use for substitutions:</p>
<ul>
  <li>
    <p><code>%s</code> converts the corresponding value to a string and inserts it.</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'%s %s'</span>, <span class="hljs-string">'abc'</span>, <span class="hljs-number">123</span>);</code>
</pre>
    <p>Output:</p>
<pre class="language-txt">
<code>abc 123</code>
</pre>
  </li>
  <li>
    <p><code>%o</code> inserts a string representation of an object.</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'%o'</span>, {<span class="hljs-attr">foo</span>: <span class="hljs-number">123</span>, <span class="hljs-attr">bar</span>: <span class="hljs-string">'abc'</span>});</code>
</pre>
    <p>Output:</p>
<pre class="language-txt">
<code>{ foo: 123, bar: 'abc' }</code>
</pre>
  </li>
  <li>
    <p><code>%j</code> converts a value to a JSON string and inserts it.</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'%j'</span>, {<span class="hljs-attr">foo</span>: <span class="hljs-number">123</span>, <span class="hljs-attr">bar</span>: <span class="hljs-string">'abc'</span>});</code>
</pre>
    <p>Output:</p>
<pre class="language-txt">
<code>{"foo":123,"bar":"abc"}</code>
</pre>
  </li>
  <li>
    <p><code>%%</code> inserts a single <code>%</code>.</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'%s%%'</span>, <span class="hljs-number">99</span>);</code>
</pre>
    <p>Output:</p>
<pre class="language-txt">
<code>99%</code>
</pre>
  </li>
</ul>
<h4 id="printing-error-information-consoleerror-stderr"><a class="heading-id-link" href="#printing-error-information-consoleerror-stderr">10.2.2 Printing error information: <code>console.error()</code> (stderr)</a></h4>
<p><span id="index-entry-console.error--"/></p>
<p><code>console.error()</code> works the same as <code>console.log()</code>, but what it logs is considered error information. For Node.js, that means that the output goes to stderr instead of stdout on Unix.</p>
<h4 id="printing-nested-objects-via-jsonstringify"><a class="heading-id-link" href="#printing-nested-objects-via-jsonstringify">10.2.3 Printing nested objects via <code>JSON.stringify()</code></a></h4>
<p><a href="ch_json.html#JSON.stringify"><code>JSON.stringify()</code></a> is occasionally useful for printing nested objects:</p>
<pre class="language-js">
<code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({<span class="hljs-attr">first</span>: <span class="hljs-string">'Jane'</span>, <span class="hljs-attr">last</span>: <span class="hljs-string">'Doe'</span>}, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));</code>
</pre>
<p>Output:</p>
<pre class="language-txt">
<code>{</code>
<code>  "first": "Jane",</code>
<code>  "last": "Doe"</code>
<code>}</code>
</pre>

    
      
</body>
</html>