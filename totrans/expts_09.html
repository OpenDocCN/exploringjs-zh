<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>7 Trying out TypeScript without installing it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>7 Trying out TypeScript without installing it</h1>
<blockquote>原文：<a href="https://exploringjs.com/ts/book/ch_trying-out-typescript.html">https://exploringjs.com/ts/book/ch_trying-out-typescript.html</a></blockquote>

    
        <div id="adbox">
      <div id="adbox-explain">(Ad, please don’t block.)</div>
              
          </div>
    
    
<nav class="local-toc">
  <ol>
    <li>
      <a href="#the-typescript-playground">7.1 The TypeScript Playground</a>
    </li>
    <li>
      <a href="#a-simple-typescript-playground-via-node-watch">7.2 A simple TypeScript playground via <code>node --watch</code></a>
      <ol>
        <li>
          <a href="#more-configuration-tsconfig-json-and-package-json">7.2.1 More configuration: <code>tsconfig.json</code> and <code>package.json</code></a>
        </li>
        <li>
          <a href="#further-reading">7.2.2 Further reading</a>
        </li>
      </ol>
    </li>
    <li>
      <a href="#running-copied-typescript-code-via-node-js">7.3 Running copied TypeScript code via Node.js</a>
    </li>
  </ol>
</nav>
<p>This chapter gives tips for quickly trying out TypeScript.</p>
<h3 id="the-typescript-playground"><a class="heading-id-link" href="#the-typescript-playground">7.1 The TypeScript Playground</a></h3>
<p><a href="http://www.typescriptlang.org/play/">The <em>TypeScript Playground</em></a> is an online editor for TypeScript code. Features include:</p>
<ul>
  <li>
    Supports full IDE-style editing: auto-completion, etc.
  </li>
  <li>
    Displays static type errors.
  </li>
  <li>
    Shows the result of compiling TypeScript code to JavaScript and declarations (<code>.d.ts</code>).
  </li>
  <li>
    Can run the JavaScript output in the browser.
  </li>
</ul>
<p>The Playground is very useful for quick experiments and demos. It can save both TypeScript code snippets and compiler settings into URLs, which is great for sharing such snippets with others. This is an example of such a URL:</p>
<pre>
<code>https://www.typescriptlang.org/play/?#code/«base64»</code>
</pre>
<p>Many social media services limit the characters per post, but not the characters per URL. Therefore, we can use Playground URLs to share code that wouldn’t fit into a post.</p>
<h3 id="a-simple-typescript-playground-via-node-watch"><a class="heading-id-link" href="#a-simple-typescript-playground-via-node-watch">7.2 A simple TypeScript playground via <code>node --watch</code></a></h3>
<p>This is the basic approach:</p>
<ul>
  <li>
    <p>We create a file <code>playground.mts</code></p>
    <ul>
      <li>
        The filename extension is <code>.mts</code> so that we don’t need a <code>package.json</code> file to tell Node.js that <code>.ts</code> means ESM module.
      </li>
    </ul>
  </li>
  <li>
    <p>We run the following command in a terminal:</p>
<pre>
<code>node --watch ./playground.mts</code>
</pre>
  </li>
  <li>
    <p>We edit <code>playground.mts</code>. Whenever we save it, Node.js re-runs it and shows its output.</p>
  </li>
</ul>
<p>Note that Node.js does not type-check the code. But the type checking we get in TypeScript editors should be enough in this case (since we are only working with a single file).</p>
<h4 id="more-configuration-tsconfig-json-and-package-json"><a class="heading-id-link" href="#more-configuration-tsconfig-json-and-package-json">7.2.1 More configuration: <code>tsconfig.json</code> and <code>package.json</code></a></h4>
<p>For more sophisticated experiments, we may need two additional files:</p>
<ul>
  <li>
    A <code>tsconfig.json</code> with our preferred settings
  </li>
  <li>
    A <code>package.json</code> with <code>"type":"module"</code> so that we can use the filename extension <code>.ts</code>.
  </li>
</ul>
<p>I have created the GitHub repository <a href="https://github.com/rauschma/nodejs-type-stripping"><code>nodejs-type-stripping</code></a> where both are already set up correctly.</p>
<h4 id="further-reading"><a class="heading-id-link" href="#further-reading">7.2.2 Further reading</a></h4>
<ul>
  <li>
    The relevant Node.js command line options are:
    <ul>
      <li>
        <a href="https://nodejs.org/api/cli.html#--watch"><code>--watch</code></a> Watches a file and its imports for changes and re-runs the file whenever that happens.
      </li>
      <li>
        <a href="https://nodejs.org/api/cli.html#--watch-path"><code>--watch-path</code></a> Overrides the default of watching the imports and tells Node.js which files to watch instead.
      </li>
      <li>
        <a href="https://nodejs.org/api/cli.html#--watch-preserve-output"><code>--watch-preserve-output</code></a> Disables the clearing of the console before the file is re-run.
      </li>
    </ul>
  </li>
  <li>
    <a href="ch_tsconfig-json.html#running-typescript-directly">“Running TypeScript directly (without generating JS files)” (§8.6.2)</a>
  </li>
</ul>
<h3 id="running-copied-typescript-code-via-node-js"><a class="heading-id-link" href="#running-copied-typescript-code-via-node-js">7.3 Running copied TypeScript code via Node.js</a></h3>
<p>For simple experiments, it can be enough to simply copy TypeScript code and run it via Node.js:</p>
<pre>
<code>«paste-command» | node --input-type=module-typescript</code>
</pre>
<p>«paste-command» depends on your operating system:</p>
<ul>
  <li>
    MacOS: <code>pbpaste</code>
  </li>
  <li>
    Windows PowerShell: <code>Get-Clipboard</code>
  </li>
  <li>
    Linux: There are many options. <a href="https://github.com/bugaevc/wl-clipboard">wl-clipboard</a> worked well for me on Ubuntu, where I installed it via the App Center (snap).
  </li>
</ul>
<p>On macOS, I added the following line to my <code>.zprofile</code>:</p>
<pre>
<code>alias pbts='pbpaste | node --input-type=module-typescript'</code>
</pre>

    
      
</body>
</html>