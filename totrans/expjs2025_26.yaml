- en: 22‚ÄÉStrings
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: ÂéüÊñáÔºö[https://exploringjs.com/js/book/ch_strings.html](https://exploringjs.com/js/book/ch_strings.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[22.1‚ÄÉCheat sheet: strings](#cheat-sheet-strings)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.1.1‚ÄÉWorking with strings](#working-with-strings)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.1.2‚ÄÉJavaScript characters vs. code points vs. grapheme clusters](#javascript-characters-vs-code-points-vs-grapheme-clusters)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.1.3‚ÄÉString methods](#string-methods)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.2‚ÄÉPlain string literals](#plain-string-literals)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.2.1‚ÄÉEscaping](#escaping)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.3‚ÄÉAccessing JavaScript characters](#accessing-javascript-characters)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.4‚ÄÉString concatenation](#string-concatenation)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.4.1‚ÄÉString concatenation via `+`](#string-concatenation-via-plus)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.4.2‚ÄÉConcatenating via Arrays (`.push()` and `.join()`)](#string-concatenation-via-arrays)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5‚ÄÉConverting values to strings in JavaScript has pitfalls](#converting-values-to-strings)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5.1‚ÄÉExample: code that is problematic](#example-code-that-is-problematic)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5.2‚ÄÉFour common ways of converting values to strings](#four-common-ways-of-converting-values-to-strings)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5.3‚ÄÉUsing `JSON.stringify()` to convert values to strings](#using-jsonstringify-to-convert-values-to-strings)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5.4‚ÄÉSolutions](#solutions)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.5.5‚ÄÉCustomizing how objects are converted to strings](#customizing-how-objects-are-converted-to-strings)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.6‚ÄÉComparing strings](#comparing-strings)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.7‚ÄÉAtoms of text: code points, JavaScript characters, grapheme clusters](#atoms-of-text)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.7.1‚ÄÉWorking with code units (JavaScript characters)](#working-with-code-units-javascript-characters)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.7.2‚ÄÉWorking with code points](#working-with-code-points)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.7.3‚ÄÉWorking with grapheme clusters](#working-with-grapheme-clusters)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8‚ÄÉQuick reference: Strings](#quickref-string)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.1‚ÄÉConverting to string](#converting-to-string)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.2‚ÄÉNumeric values of text atoms](#numeric-values-of-text-atoms)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.3‚ÄÉ`String.prototype.*`: regular expression methods](#stringprototype-regular-expression-methods)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.4‚ÄÉ`String.prototype.*`: finding and matching](#stringprototype-finding-and-matching)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.5‚ÄÉ`String.prototype.*`: extracting](#stringprototype-extracting)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.6‚ÄÉ`String.prototype.*`: combining](#stringprototype-combining)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.7‚ÄÉ`String.prototype.*`: transforming](#stringprototype-transforming)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8.8‚ÄÉSources of this quick reference](#sources-of-this-quick-reference)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.1‚ÄÉCheat sheet: strings](#cheat-sheet-strings)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Strings are primitive values in JavaScript and immutable. That is, string-related
    operations always produce new strings and never change existing strings.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.1.1‚ÄÉWorking with strings](#working-with-strings)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Literals for strings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Backslashes are used to:'
  prefs: []
  type: TYPE_NORMAL
- en: Escape literal delimiters (first 2 lines of previous example)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Represent special characters:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`\\` represents a backslash'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`\n` represents a newline'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`\r` represents a carriage return'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`\t` represents a tab'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Inside a `String.raw` tagged template (line A), backslashes are treated as
    normal characters:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Convertings values to strings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Copying parts of a string
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Concatenating strings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[22.1.2‚ÄÉJavaScript characters vs. code points vs. grapheme clusters](#javascript-characters-vs-code-points-vs-grapheme-clusters)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '**Code points** are 21-bit Unicode characters.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**JavaScript characters** are 16-bit UTF-16 code units. To encode a code point,
    we need one to two code units. Most code points fit into one code unit.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Grapheme clusters** are *user-perceived characters* and represent written
    symbols. Most grapheme clusters are only one code point long, but they can also
    be longer ‚Äì e.g., some emojis.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Example ‚Äì a grapheme cluster that consists of multiple code points:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'For more information on how to handle text, see [‚ÄúAtoms of text: code points,
    JavaScript characters, grapheme clusters‚Äù (¬ß22.7)](#atoms-of-text).'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.1.3‚ÄÉString methods](#string-methods)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: This subsection gives a brief overview of the string API. There is [a more comprehensive
    quick reference](#quickref-string) at the end of this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finding substrings:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Splitting and joining:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Padding and trimming:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Repeating and changing case:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: '[22.2‚ÄÉPlain string literals](#plain-string-literals)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Plain string literals are delimited by either single quotes or double quotes:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: Single quotes are used more often because it makes it easier to mention HTML,
    where double quotes are preferred.
  prefs: []
  type: TYPE_NORMAL
- en: '[The next chapter](ch_template-literals.html#ch_template-literals) covers *template
    literals*, which give us:'
  prefs: []
  type: TYPE_NORMAL
- en: String interpolation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Multiple lines
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raw string literals (backslash has no special meaning)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.2.1‚ÄÉEscaping](#escaping)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The backslash lets us create special characters:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Unix line break: `''\n''`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Windows line break: `''\r\n''`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Tab: `''\t''`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Backslash: `''\\''`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The backslash also lets us use the delimiter of a string literal inside that
    literal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '[22.3‚ÄÉAccessing JavaScript characters](#accessing-javascript-characters)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: JavaScript has no extra data type for characters ‚Äì characters are always represented
    as strings.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: 'The characters we see on screen are called *grapheme clusters*. Most of them
    are represented by single JavaScript characters. However, there are also grapheme
    clusters (especially emojis) that are represented by multiple JavaScript characters:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'How that works is explained in [‚ÄúAtoms of text: code points, JavaScript characters,
    grapheme clusters‚Äù (¬ß22.7)](#atoms-of-text).'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.4‚ÄÉString concatenation](#string-concatenation)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[22.4.1‚ÄÉString concatenation via `+`](#string-concatenation-via-plus)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'If at least one operand is a string, the plus operator (`+`) converts any non-strings
    to strings and concatenates the result:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: 'The assignment operator `+=` is useful if we want to assemble a string, piece
    by piece:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: '![Icon ‚Äúdetails‚Äù](../Images/38ba63de820aae6f94a019538ae0f222.png)‚ÄÇ**Concatenating
    via `+` is efficient**'
  prefs: []
  type: TYPE_NORMAL
- en: Using `+` to assemble strings is quite efficient because most JavaScript engines
    internally optimize it.
  prefs: []
  type: TYPE_NORMAL
- en: '![Icon ‚Äúexercise‚Äù](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png)‚ÄÇ**Exercise:
    Concatenating strings**'
  prefs: []
  type: TYPE_NORMAL
- en: '`exercises/strings/concat_string_array_test.mjs`'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.4.2‚ÄÉConcatenating via Arrays (`.push()` and `.join()`)](#string-concatenation-via-arrays)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Occasionally, taking a detour via an Array can be useful for concatenating
    strings ‚Äì especially if there is to be a separator between them (such as `'',
    ''` in line A):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5‚ÄÉConverting values to strings in JavaScript has pitfalls](#converting-values-to-strings)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Converting values to strings in JavaScript is more complicated than it might
    seem:'
  prefs: []
  type: TYPE_NORMAL
- en: Most approaches have values they can‚Äôt handle.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We don‚Äôt always see all of the data.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.5.1‚ÄÉExample: code that is problematic](#example-code-that-is-problematic)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Can you spot the problem in the following code?
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: 'For some values, this code throws an exception in line A:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: Read on for more information.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.2‚ÄÉFour common ways of converting values to strings](#four-common-ways-of-converting-values-to-strings)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`String(v)`'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`v.toString()`'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`'''' + v`'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`` `${v}` ``'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The following table shows how these operations fare with various values (#4
    produces the same results as #3).'
  prefs: []
  type: TYPE_NORMAL
- en: '|  | `String(v)` | `'''' + v` | `v.toString()` |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `undefined` | `''undefined''` | `''undefined''` | **TypeError** |'
  prefs: []
  type: TYPE_TB
- en: '| `null` | `''null''` | `''null''` | **TypeError** |'
  prefs: []
  type: TYPE_TB
- en: '| `true` | `''true''` | `''true''` | `''true''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123` | `''123''` | `''123''` | `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123n` | `''123''` | `''123''` | `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| `"abc"` | `''abc''` | `''abc''` | `''abc''` |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol()` | `''Symbol()''` | **TypeError** | `''Symbol()''` |'
  prefs: []
  type: TYPE_TB
- en: '| `{a:1}` | `''[object Object]''` | `''[object Object]''` | `''[object Object]''`
    |'
  prefs: []
  type: TYPE_TB
- en: '| `[''a'']` | `''a''` | `''a''` | `''a''` |'
  prefs: []
  type: TYPE_TB
- en: '| `{__proto__:null}` | **TypeError** | **TypeError** | **TypeError** |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol.prototype` | **TypeError** | **TypeError** | **TypeError** |'
  prefs: []
  type: TYPE_TB
- en: '| `() => {}` | `''() => {}''` | `''() => {}''` | `''() => {}''` |'
  prefs: []
  type: TYPE_TB
- en: Let‚Äôs explore why some of these values produce exceptions or results that aren‚Äôt
    very useful.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.2.1‚ÄÉTricky values: symbols](#tricky-values-symbols)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Symbols must be converted to strings explicitly (via `String()` or `.toString()`).
    Conversion via concatenation throws an exception:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: Why is that? The intent is to prevent accidentally converting a symbol property
    key to a string (which is also a valid property key).
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.2.2‚ÄÉTricky values: objects with `null` prototypes](#tricky-values-objects-with-null-prototypes)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'It‚Äôs obvious why `v.toString()` doesn‚Äôt work if there is no method `.toString()`.
    However, the other conversion operations call the following methods in the following
    order and use the first primitive value that is returned (after converting it
    to string):'
  prefs: []
  type: TYPE_NORMAL
- en: '`v[Symbol.toPrimitive]()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`v.toString()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`v.valueOf()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If none of these methods are present, a `TypeError` is thrown.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: Where might we encounter objects with `null` prototypes?
  prefs: []
  type: TYPE_NORMAL
- en: '[‚ÄúObjects with `null` prototypes as dictionaries‚Äù (¬ß30.9.11.4)](ch_objects.html#dictionary-objects-with-null-prototypes)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[‚ÄúObjects with `null` prototypes as fixed lookup tables‚Äù (¬ß30.9.11.5)](ch_objects.html#lookup-tables-with-null-prototypes)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[‚Äú`null` prototypes in the standard library‚Äù (¬ß30.9.11.6)](ch_objects.html#null-prototypes-in-standard-library)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.5.2.3‚ÄÉTricky values: objects in general](#tricky-values-objects-in-general)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Plain objects have default string representations that are not very useful:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: 'Arrays have better string representations, but they still hide much information:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.2.4‚ÄÉTricky value: `Symbol.prototype`](#tricky-value-symbolprototype)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'You‚Äôll probably never encounter the value `Symbol.prototype` (the object that
    provides symbols with methods) in the wild but it‚Äôs an interesting edge case:
    `Symbol.prototype[Symbol.toPrimitive]()` throws an exception if `this` isn‚Äôt a
    symbol. That explains why converting `Symbol.prototype` to a string doesn‚Äôt work:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.3‚ÄÉUsing `JSON.stringify()` to convert values to strings](#using-jsonstringify-to-convert-values-to-strings)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The JSON data format is a text representation of JavaScript values. Therefore,
    [`JSON.stringify()`](ch_json.html#JSON.stringify) can also be used to convert
    values to strings. It works especially well for objects and Arrays where the normal
    conversion to string has significant deficiencies:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  prefs: []
  type: TYPE_PRE
- en: '`JSON.stringify()` is OK with objects whose prototypes are `null`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs: []
  type: TYPE_PRE
- en: 'On major downside is that `JSON.stringify()` only supports the following values:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Primitive values:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`null`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Booleans
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Numbers (except for `NaN` and `Infinity`)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Strings
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Non-primitive values:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Arrays
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Objects (except for functions)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For most other values, we get `undefined` as a result (and not a string):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  prefs: []
  type: TYPE_PRE
- en: 'Bigints cause exceptions:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  prefs: []
  type: TYPE_PRE
- en: 'Properties with `undefined`-producing values are omitted:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  prefs: []
  type: TYPE_PRE
- en: 'Array elements whose values produce `undefined`, are stringified as `null`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  prefs: []
  type: TYPE_PRE
- en: 'The following table summarizes the results of `JSON.stringify(v)`:'
  prefs: []
  type: TYPE_NORMAL
- en: '|  | `JSON.stringify(v)` |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `undefined` | `undefined` |'
  prefs: []
  type: TYPE_TB
- en: '| `null` | `''null''` |'
  prefs: []
  type: TYPE_TB
- en: '| `true` | `''true''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123` | `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123n` | **TypeError** |'
  prefs: []
  type: TYPE_TB
- en: '| `''abc''` | `''"abc"''` |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol()` | `undefined` |'
  prefs: []
  type: TYPE_TB
- en: '| `{a:1}` | `''{"a":1}''` |'
  prefs: []
  type: TYPE_TB
- en: '| `[''a'']` | `''["a"]''` |'
  prefs: []
  type: TYPE_TB
- en: '| `() => {}` | `undefined` |'
  prefs: []
  type: TYPE_TB
- en: '| `{__proto__:null}` | `''{}''` |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol.prototype` | `''{}''` |'
  prefs: []
  type: TYPE_TB
- en: For more information, see [‚ÄúDetails on how data is converted to JSON‚Äù (¬ß48.3.1.3)](ch_json.html#json-stringify-details).
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.3.1‚ÄÉMultiline output](#multiline-output)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'By default, `JSON.stringify()` returns a single line of text. However the optional
    third parameter enables multiline output and lets us specify how much to indent
    ‚Äì for example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.3.2‚ÄÉDisplaying strings via `JSON.stringify()`](#displaying-strings-via-jsonstringify)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '`JSON.stringify()` is useful for displaying arbitrary strings:'
  prefs: []
  type: TYPE_NORMAL
- en: The result always fits into a single line.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Invisible characters such as newlines and tabs become visible.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  prefs: []
  type: TYPE_PRE
- en: 'Output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.4‚ÄÉSolutions](#solutions)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Alas, there are no good built-in solutions for stringification that work all
    the time. In this section, we‚Äôll explore a short function that works for all simple
    use cases, along with solutions for more sophisticated use cases.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.4.1‚ÄÉShort solution: a custom `toString()` function](#short-solution-a-custom-tostring-function)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: What would a simple solution for stringification look like?
  prefs: []
  type: TYPE_NORMAL
- en: '`JSON.stringify()` works well for a lot of data, especially plain objects and
    Arrays. If it can‚Äôt stringify a given value, it returns `undefined` instead of
    a string ‚Äì unless the value is a bigint. Then it throws an exception.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Therefore, we can use the following function for stringification:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  prefs: []
  type: TYPE_PRE
- en: 'For values that are not supported by `JSON.stringify()`, we use `String()`
    as a fallback (line A). That function only throws for the following two values
    ‚Äì which are both handled well by `JSON.stringify()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '`{__proto__:null}`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Symbol.prototype`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following table summarizes the results of `toString()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '|  | `toString()` |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `undefined` | `''undefined''` |'
  prefs: []
  type: TYPE_TB
- en: '| `null` | `''null''` |'
  prefs: []
  type: TYPE_TB
- en: '| `true` | `''true''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123` | `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| `123n` | `''123n''` |'
  prefs: []
  type: TYPE_TB
- en: '| `''abc''` | `''"abc"''` |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol()` | `''Symbol()''` |'
  prefs: []
  type: TYPE_TB
- en: '| `{a:1}` | `''{"a":1}''` |'
  prefs: []
  type: TYPE_TB
- en: '| `[''a'']` | `''["a"]''` |'
  prefs: []
  type: TYPE_TB
- en: '| `() => {}` | `''() => {}''` |'
  prefs: []
  type: TYPE_TB
- en: '| `{__proto__:null}` | `''{}''` |'
  prefs: []
  type: TYPE_TB
- en: '| `Symbol.prototype` | `''{}''` |'
  prefs: []
  type: TYPE_TB
- en: '[22.5.4.2‚ÄÉLibrary for stringifying values](#library-for-stringifying-values)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The library [stringify-object](https://github.com/sindresorhus/stringify-object)
    by Sindre Sorhus: ‚ÄúStringify an object/array like `JSON.stringify` just without
    all the double-quotes‚Äù'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.5.4.3‚ÄÉNode.js functions for stringifying values](#nodejs-functions-for-stringifying-values)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Node.js has several built-in functions that provide sophisticated support for
    converting JavaScript values to strings ‚Äì e.g.:'
  prefs: []
  type: TYPE_NORMAL
- en: '[`util.inspect(obj)`](https://nodejs.org/api/util.html#utilinspectobject-options)
    ‚Äúreturns a string representation of `obj` that is intended for debugging‚Äù.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[`util.format(format, ...args)`](https://nodejs.org/api/util.html#utilformatformat-args)
    ‚Äúreturns a formatted string using the first argument as a printf-like format string
    which can contain zero or more format specifiers‚Äù.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'These functions can even handle circular data:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.4.4‚ÄÉAlternative to stringification: logging data to the console](#alternative-to-stringification-logging-data-to-the-console)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Console methods such as `console.log()` tend to produce good output and have
    few limitations:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  prefs: []
  type: TYPE_PRE
- en: 'Output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  prefs: []
  type: TYPE_PRE
- en: 'However, by default, they only display objects up to a certain depth:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  prefs: []
  type: TYPE_PRE
- en: 'Output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  prefs: []
  type: TYPE_PRE
- en: 'Node.js lets us specify the depth for `console.dir()` ‚Äì¬†with `null` meaning
    infinite:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE39]'
  prefs: []
  type: TYPE_PRE
- en: 'Output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE40]'
  prefs: []
  type: TYPE_PRE
- en: In browsers, `console.dir()` does not have an options object but lets us interactively
    and incrementally descend into objects.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.5.5‚ÄÉCustomizing how objects are converted to strings](#customizing-how-objects-are-converted-to-strings)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[22.5.5.1‚ÄÉCustomizing the string conversion of objects](#customizing-the-string-conversion-of-objects)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'We can customize the built-in way of stringifying objects by implementing the
    method `.toString()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE41]'
  prefs: []
  type: TYPE_PRE
- en: '[22.5.5.2‚ÄÉCustomizing the conversion to JSON](#customizing-the-conversion-to-json)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'We can customize how an object is converted to JSON by implementing the method
    `.toJSON()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  prefs: []
  type: TYPE_PRE
- en: '[22.6‚ÄÉComparing strings](#comparing-strings)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Strings can be compared via the following operators:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs: []
  type: TYPE_PRE
- en: 'There is one important caveat to consider: These operators compare based on
    the numeric values of JavaScript characters. That means that the order that JavaScript
    uses for strings is different from the one used in dictionaries and phone books:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE44]'
  prefs: []
  type: TYPE_PRE
- en: Properly comparing text is beyond the scope of this book. It is supported via
    [the ECMAScript Internationalization API (`Intl`)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl).
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7‚ÄÉAtoms of text: code points, JavaScript characters, grapheme clusters](#atoms-of-text)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Quick recap of [‚ÄúUnicode ‚Äì a brief introduction (advanced)‚Äù (¬ß21)](ch_unicode.html#ch_unicode):'
  prefs: []
  type: TYPE_NORMAL
- en: '*Code points* are the atomic parts of Unicode text. Each code point is 21 bits
    in size.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each *JavaScript* character is a UTF-16 code unit (16 bits). We need one to
    two code units to encode a code point. Most code points fit into one code unit.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Grapheme clusters* (*user-perceived characters*) represent written symbols,
    as displayed on screen or paper. One or more code points are needed to encode
    a single grapheme cluster. Most grapheme clusters are one code point long.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code demonstrates that a single code point comprises one or two
    JavaScript characters. We count the latter via `.length`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE45]'
  prefs: []
  type: TYPE_PRE
- en: 'The following table summarizes the concepts we have just explored:'
  prefs: []
  type: TYPE_NORMAL
- en: '| Entity | Size | Encoded via |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| JavaScript character (UTF-16 code unit) | 16 bits | ‚Äì |'
  prefs: []
  type: TYPE_TB
- en: '| Unicode code point | 21 bits | 1‚Äì2 code units |'
  prefs: []
  type: TYPE_TB
- en: '| Unicode grapheme cluster |  | 1+ code points |'
  prefs: []
  type: TYPE_TB
- en: '[22.7.1‚ÄÉWorking with code units (JavaScript characters)](#working-with-code-units-javascript-characters)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Indices and lengths of strings are based on JavaScript characters ‚Äì which are
    UTF-16 code units.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7.1.1‚ÄÉAccessing code units](#accessing-code-units)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Code units are accessed like Array elements:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE46]'
  prefs: []
  type: TYPE_PRE
- en: '`str.split('''')` splits into code units:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  prefs: []
  type: TYPE_PRE
- en: The emoji üôÇ consists of two code units.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7.1.2‚ÄÉEscaping code units](#escaping-code-units)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'To specify a code unit hexadecimally, we can use a *Unicode code unit escape*
    with exactly four hexadecimal digits:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  prefs: []
  type: TYPE_PRE
- en: '**ASCII escapes:** If the code point of a character is below 256, we can refer
    to it via an *ASCII escape* with exactly two hexadecimal digits:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE49]'
  prefs: []
  type: TYPE_PRE
- en: '![Icon ‚Äúdetails‚Äù](../Images/38ba63de820aae6f94a019538ae0f222.png)‚ÄÇ**Official
    name of an ASCII escape: hexadecimal escape sequence**'
  prefs: []
  type: TYPE_NORMAL
- en: It was the first escape that used hexadecimal numbers.
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7.1.3‚ÄÉConverting code units to numbers (char codes)](#converting-code-units-to-numbers-char-codes)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'To get the char code of a character, we can use `.charCodeAt()`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  prefs: []
  type: TYPE_PRE
- en: '`String.fromCharCode()` converts a char code to a string:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE51]'
  prefs: []
  type: TYPE_PRE
- en: '[22.7.2‚ÄÉWorking with code points](#working-with-code-points)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[22.7.2.1‚ÄÉAccessing code points](#accessing-code-points)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'Iteration (which is described [later in this book](ch_sync-iteration.html#ch_sync-iteration))
    splits strings into code points:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE52]'
  prefs: []
  type: TYPE_PRE
- en: 'Output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE53]'
  prefs: []
  type: TYPE_PRE
- en: '`Array.from()` uses iteration:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE54]'
  prefs: []
  type: TYPE_PRE
- en: 'Therefore, this is how we can count the number of code points in a string:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE55]'
  prefs: []
  type: TYPE_PRE
- en: '[22.7.2.2‚ÄÉEscaping code points](#escaping-code-points)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: A *Unicode code point escape* lets us specify a code point hexadecimally (1‚Äì5
    digits). It produces one or two JavaScript characters.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE56]'
  prefs: []
  type: TYPE_PRE
- en: '[22.7.2.3‚ÄÉConverting code points in strings to numbers](#converting-code-points-in-strings-to-numbers)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: '`.codePointAt()` returns the code point number for a sequence of 1‚Äì2 JavaScript
    characters:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE57]'
  prefs: []
  type: TYPE_PRE
- en: '`String.fromCodePoint()` converts a code point number to 1‚Äì2 JavaScript characters:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE58]'
  prefs: []
  type: TYPE_PRE
- en: '[22.7.2.4‚ÄÉRegular expressions for code points](#regular-expressions-for-code-points)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'If we use the flag `/v` for a regular expression, it supports Unicode better
    and matches code points not code units:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE59]'
  prefs: []
  type: TYPE_PRE
- en: 'More information: [‚ÄúFlag `/v`: limited support for multi-code-point grapheme
    clusters ^(ES2024)‚Äù (¬ß46.11.4)](ch_regexps.html#regexp-flag-unicode-sets).'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7.3‚ÄÉWorking with grapheme clusters](#working-with-grapheme-clusters)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[22.7.3.1‚ÄÉAccessing grapheme clusters](#accessing-grapheme-clusters)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'This is a grapheme cluster that consists of 3 code points:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  prefs: []
  type: TYPE_PRE
- en: 'To split a string into grapheme clusters, we can use [`Intl.Segmenter`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter)
    ‚Äì a class that isn‚Äôt part of ECMAScript proper, but part of [the ECMAScript internationalization
    API](https://ecma-international.org/publications-and-standards/standards/ecma-402/).
    It is supported by most JavaScript platforms. This is how we can use it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE61]'
  prefs: []
  type: TYPE_PRE
- en: '`.segmenter()` returns an iterable over segment objects. We can use it via
    `for-of`, `Array.from()`, `Iterator.from()`, etc.'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.7.3.2‚ÄÉRegular expressions for grapheme clusters](#regular-expressions-for-grapheme-clusters)'
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The regular expression flag `/v` provides some limited support for grapheme
    clusters ‚Äì e.g., we can match emojis with potentially multiple code points like
    this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE62]'
  prefs: []
  type: TYPE_PRE
- en: 'More information: [‚ÄúFlag `/v`: limited support for multi-code-point grapheme
    clusters ^(ES2024)‚Äù (¬ß46.11.4)](ch_regexps.html#regexp-flag-unicode-sets).'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.8‚ÄÉQuick reference: Strings](#quickref-string)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[22.8.1‚ÄÉConverting to string](#converting-to-string)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[Table 22.1](#tbl:converting-to-string) describes how various values are converted
    to strings.'
  prefs: []
  type: TYPE_NORMAL
- en: '| `x` | `String(x)` |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| `undefined` | `''undefined''` |'
  prefs: []
  type: TYPE_TB
- en: '| `null` | `''null''` |'
  prefs: []
  type: TYPE_TB
- en: '| boolean | `false` ‚Üí `''false''`, `true` ‚Üí `''true''` |'
  prefs: []
  type: TYPE_TB
- en: '| number | Example: `123` ‚Üí `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| bigint | Example: `123n` ‚Üí `''123''` |'
  prefs: []
  type: TYPE_TB
- en: '| string | `x` (input, unchanged) |'
  prefs: []
  type: TYPE_TB
- en: '| symbol | Example: `Symbol(''abc'')` ‚Üí `''Symbol(abc)''` |'
  prefs: []
  type: TYPE_TB
- en: '| object | Configurable via, e.g., `toString()` |'
  prefs: []
  type: TYPE_TB
- en: 'Table 22.1: Converting values to strings.'
  prefs: []
  type: TYPE_NORMAL
- en: '[22.8.2‚ÄÉNumeric values of text atoms](#numeric-values-of-text-atoms)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '**Char code**: number representing a JavaScript character. JavaScript‚Äôs name
    for *Unicode code unit*.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Size: 16 bits, unsigned'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Convert number to string: `String.fromCharCode()` ^(ES1)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Convert string to number: string method `.charCodeAt()` ^(ES1)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Code point**: number representing an atomic part of Unicode text.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Size: 21 bits, unsigned (17 planes, 16 bits each)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Convert number to string: `String.fromCodePoint()` ^(ES6)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Convert string to number: string method `.codePointAt()` ^(ES6)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.8.3‚ÄÉ`String.prototype.*`: regular expression methods](#stringprototype-regular-expression-methods)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The following methods are listed in [the quick reference for regular expressions](ch_regexps.html#quickref-RegExp):'
  prefs: []
  type: TYPE_NORMAL
- en: '`String.prototype.match()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.matchAll()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.replace()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.replaceAll()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.search()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.split()`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[22.8.4‚ÄÉ`String.prototype.*`: finding and matching](#stringprototype-finding-and-matching)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`String.prototype.startsWith(searchString, startPos=0)` ES6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns `true` if `searchString` occurs in the string at index `startPos`. Returns
    `false` otherwise.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE63]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.endsWith(searchString, endPos=this.length)` ES6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns `true` if the string would end with `searchString` if its length were
    `endPos`. Returns `false` otherwise.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE64]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.includes(searchString, startPos=0)` ES6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns `true` if the string contains the `searchString` and `false` otherwise.
    The search starts at `startPos`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE65]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.indexOf(searchString, minIndex=0)` ES1'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If `searchString` appears at `minIndex` or after: Return the lowest index where
    it is found. Otherwise: Return `-1`.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE66]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.lastIndexOf(searchString, maxIndex?)` ES1'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If `searchString` appears at `maxIndex` or before: Return the highest index
    where it is found. Otherwise: Return `-1`.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If `maxIndex` is missing, the search starts at `this.length - searchString.length`
    (assuming that `searchString` is shorter than `this`).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE67]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[22.8.5‚ÄÉ`String.prototype.*`: extracting](#stringprototype-extracting)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`String.prototype.slice(start=0, end=this.length)` ES3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns the substring of the string that starts at (including) index `start`
    and ends at (excluding) index `end`. If an index is negative, it is added to `.length`
    before it is used (`-1` becomes `this.length-1`, etc.).
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE68]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.at(index: number)` ES2022'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns the JavaScript character at `index` as a string.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If the index is out of bounds, it returns `undefined`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If `index` is negative, it is added to `.length` before it is used (`-1` becomes
    `this.length-1`, etc.).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE69]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.substring(start, end=this.length)` ES1'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use `.slice()` instead of this method. `.substring()` wasn‚Äôt implemented consistently
    in older engines and doesn‚Äôt support negative indices.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[22.8.6‚ÄÉ`String.prototype.*`: combining](#stringprototype-combining)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`String.prototype.concat(...strings)` ES3'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns the concatenation of the string and `strings`. `'a'.concat('b')` is
    equivalent to `'a'+'b'`. The latter is much more popular.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE70]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.padEnd(len, fillString='' '')` ES2017'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Appends (fragments of) `fillString` to the string until it has the desired length
    `len`. If it already has or exceeds `len`, then it is returned without any changes.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE71]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.padStart(len, fillString='' '')` ES2017'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prepends (fragments of) `fillString` to the string until it has the desired
    length `len`. If it already has or exceeds `len`, then it is returned without
    any changes.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE72]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.repeat(count=0)` ES6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns the string, concatenated `count` times.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE73]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[22.8.7‚ÄÉ`String.prototype.*`: transforming](#stringprototype-transforming)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '`String.prototype.toUpperCase()` ES1'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns a copy of the string in which all lowercase alphabetic characters are
    converted to uppercase. How well that works for various alphabets, depends on
    the JavaScript engine.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE74]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.toLowerCase()` ES1'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns a copy of the string in which all uppercase alphabetic characters are
    converted to lowercase. How well that works for various alphabets, depends on
    the JavaScript engine.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE75]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.trim()` ES5'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns a copy of the string in which all leading and trailing whitespace (spaces,
    tabs, line terminators, etc.) is gone.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE76]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.trimStart()` ES2019'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Similar to `.trim()` but only the beginning of the string is trimmed:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE77]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.trimEnd()` ES2019'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Similar to `.trim()` but only the end of the string is trimmed:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE78]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.normalize(form = ''NFC'')` ES6'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Normalizes the string according to [the Unicode Normalization Forms](https://unicode.org/reports/tr15/).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Values of `form`: `''NFC'', ''NFD'', ''NFKC'', ''NFKD''`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`String.prototype.isWellFormed()` ES2024'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Returns `true` if a string is ill-formed and contains *lone surrogates* (see
    [`.toWellFormed()`](#qref-String.prototype.toWellFormed) for more information).
    Otherwise, it returns `false`.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE79]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '`String.prototype.toWellFormed()` ES2024'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each JavaScript string character is a [UTF-16 code unit](ch_unicode.html#utf-16).
    One code point is encoded as either one UTF-16 code unit or two UTF-16 code unit.
    In the latter case, the two code units are called *leading surrogate* and *trailing
    surrogate*. A surrogate without its partner is called a *lone surrogate*. A string
    with one or more lone surrogates is *ill-formed*.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`.toWellFormed()` converts an ill-formed string to a well-formed one by replacing
    each lone surrogate with code point 0xFFFD (‚Äúreplacement character‚Äù). That character
    is often displayed as a ÔøΩ (a black rhombus with a white question mark). It is
    located in the *Specials* Unicode block of characters, at the very end of the
    *Basic Multilingual Plane*. [This is what Wikipedia says about the replacement
    character](https://en.wikipedia.org/wiki/Specials_%28Unicode_block%29#Replacement_character):
    ‚ÄúIt is used to indicate problems when a system is unable to render a stream of
    data to correct symbols.‚Äù'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE80]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[22.8.8‚ÄÉSources of this quick reference](#sources-of-this-quick-reference)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[ECMAScript language specification](https://tc39.es/ecma262/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[TypeScript‚Äôs built-in typings](https://github.com/microsoft/TypeScript/tree/main/src/lib/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[MDN web docs for JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Icon ‚Äúexercise‚Äù](../Images/4fc2ec98bb44cc1f4de7c6a46d9dd043.png)‚ÄÇ**Exercise:
    Using string methods**'
  prefs: []
  type: TYPE_NORMAL
- en: '`exercises/strings/remove_extension_test.mjs`'
  prefs: []
  type: TYPE_NORMAL
