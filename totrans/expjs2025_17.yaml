- en: 14 Values
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://exploringjs.com/js/book/ch_values.html](https://exploringjs.com/js/book/ch_values.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[14.1 What’s a type?](#whats-a-type)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.2 JavaScript’s type hierarchy](#javascripts-type-hierarchy)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.3 The types of the language specification](#the-types-of-the-language-specification)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.4 Primitive values vs. objects](#primitive-values-vs-objects)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.5 Primitive values (short: primitives)](#primitive-values-short-primitives)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.5.1 Primitives are immutable](#primitives-are-immutable)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.5.2 Primitives are *passed by value*](#primitives-are-passed-by-value)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.5.3 Primitives are *compared by value*](#primitives-are-compared-by-value)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6 Objects](#objects)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6.1 Objects are mutable by default](#objects-are-mutable-by-default)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6.2 Objects are *passed by identity*](#objects-are-passed-by-identity)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6.3 Objects are *compared by identity*](#objects-are-compared-by-identity)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6.4 Passing by reference vs. passing by identity (advanced)](#passing-by-reference-vs-passing-by-identity-advanced)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.6.5 Identity in the ECMAScript specification (advanced)](#identity-in-the-ecmascript-specification-advanced)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.7 The operators `typeof` and `instanceof`: what’s the type of a value?](#the-operators-typeof-and-instanceof-whats-the-type-of-a-value)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.7.1 `typeof`](#typeof-operator)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.7.2 `instanceof`](#instanceof-operator)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.8 Classes and constructor functions](#classes-and-constructor-functions)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.8.1 Constructor functions associated with primitive types](#constructor-functions-for-primitives)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.9 Converting between types](#converting-between-types)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.9.1 Explicit conversion between types](#explicit-conversion-between-types)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[14.9.2 Coercion (automatic conversion between types)](#coercion)'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: In this chapter, we’ll examine what kinds of values JavaScript has.
  prefs: []
  type: TYPE_NORMAL
- en: '![Icon “reading”](../Images/0fb62b2fc33a72829ae9fb174dedd0d2.png) **Supporting
    tool: `===`**'
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we’ll occasionally use the strict equality operator. `a ===
    b` evaluates to `true` if `a` and `b` are equal. What exactly that means is explained
    in [“Strict equality (`===` and `!==`)” (§15.5.1)](ch_operators.html#strict-equality).
  prefs: []
  type: TYPE_NORMAL
- en: '[14.1 What’s a type?](#whats-a-type)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For this chapter, I consider types to be sets of values – for example, the type
    `boolean` is the set { `false`, `true` }.
  prefs: []
  type: TYPE_NORMAL
- en: '[14.2 JavaScript’s type hierarchy](#javascripts-type-hierarchy)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![](../Images/86e9cf484c901c5e9bd1b2ee4a0d1ba7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 14.1: A partial hierarchy of JavaScript’s types. Missing are the classes
    for errors, the classes associated with primitive types, and more.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 14.1](#fig:type-hierarchy) shows JavaScript’s type hierarchy:'
  prefs: []
  type: TYPE_NORMAL
- en: 'JavaScript distinguishes two kinds of values: primitive values and objects.
    We’ll soon see what the difference is.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The diagram hints at an important fact: Some objects are not instances of the
    class `Object` ([more information](ch_classes.html#non-instances-of-object)).
    However, such objects are rare. Virtually all objects we’ll encounter are indeed
    instances of `Object`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[14.3 The types of the language specification](#the-types-of-the-language-specification)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The ECMAScript specification only knows a total of eight types. The names of
    those types are (I’m using TypeScript’s names, not the spec’s names):'
  prefs: []
  type: TYPE_NORMAL
- en: '`undefined` with the only element `undefined`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`null` with the only element `null`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`boolean` with the elements `false` and `true`'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`number`, the type of all numbers (e.g., `-123`, `3.141`)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`bigint`, the type of all big integers (e.g., `-123n`)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`string`, the type of all strings (e.g., `''abc''`)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`symbol`, the type of all symbols (e.g., `Symbol(''My Symbol'')`)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`object`, the type of all objects (different from `Object`, the type of all
    instances of class `Object` and its subclasses)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[14.4 Primitive values vs. objects](#primitive-values-vs-objects)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The specification makes an important distinction between values:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Primitive values* are the elements of the types `undefined`, `null`, `boolean`,
    `number`, `bigint`, `string`, `symbol`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All other values are *objects*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In contrast to Java (that inspired JavaScript here), primitive values are not
    second-class citizens. The difference between them and objects is more subtle.
    In a nutshell:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Primitive values: are atomic building blocks of data in JavaScript.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'They are *passed by value*: when primitive values are assigned to variables
    or passed to functions, their contents are copied.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'They are *compared by value*: when comparing two primitive values, their contents
    are compared.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Objects: are compound pieces of data.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'They are *passed by identity* (new term): when objects are assigned to variables
    or passed to functions, their *identities* (think pointers) are copied.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'They are *compared by identity* (new term): when comparing two objects, their
    identities are compared.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Other than that, primitive values and objects are quite similar: they both
    have *properties* (key-value entries) and can be used in the same locations.'
  prefs: []
  type: TYPE_NORMAL
- en: Next, we’ll look at primitive values and objects in more depth.
  prefs: []
  type: TYPE_NORMAL
- en: '[14.5 Primitive values (short: primitives)](#primitive-values-short-primitives)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '[14.5.1 Primitives are immutable](#primitives-are-immutable)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'We can’t change, add, or remove properties of primitives:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[14.5.2 Primitives are *passed by value*](#primitives-are-passed-by-value)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Primitives are *passed by value*: variables (including parameters) store the
    contents of the primitives. When assigning a primitive value to a variable or
    passing it as an argument to a function, its content is copied.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![Icon “details”](../Images/38ba63de820aae6f94a019538ae0f222.png) **Observing
    the difference between passing by value and passing by identity**'
  prefs: []
  type: TYPE_NORMAL
- en: Due to primitive values being immutable and compared by value (see next subsection),
    there is no way to observe the difference between passing by value and passing
    by identity (as used for objects in JavaScript).
  prefs: []
  type: TYPE_NORMAL
- en: '[14.5.3 Primitives are *compared by value*](#primitives-are-compared-by-value)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Primitives are *compared by value*: when comparing two primitive values, we
    compare their contents.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: To see what’s so special about this way of comparing, read on and find out how
    objects are compared.
  prefs: []
  type: TYPE_NORMAL
- en: '[14.6 Objects](#objects)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Objects are covered in detail in [“Objects” (§30)](ch_objects.html#ch_objects)
    and the following chapter. Here, we mainly focus on how they differ from primitive
    values.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s first explore two common ways of creating objects:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Object literal:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The object literal starts and ends with curly braces `{}`. It creates an object
    with two properties. The first property has the key `''first''` (a string) and
    the value `''Jane''`. The second property has the key `''last''` and the value
    `''Doe''`. For more information on object literals, see [“Object literals: properties”
    (§30.3.1)](ch_objects.html#object-literals).'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Array literal:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The Array literal starts and ends with square brackets `[]`. It creates an
    Array with two *elements*: `''strawberry''` and `''apple''`. For more information
    on Array literals, see [“Creating, reading, writing Arrays” (§34.3.1)](ch_arrays.html#array-literals).'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[14.6.1 Objects are mutable by default](#objects-are-mutable-by-default)'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'By default, we can freely change, add, and remove the properties of objects:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE6][PRE7]js[PRE8] [PRE9] if (typeof x === ''string'') ··· if (x instanceof
    Array) ···  [PRE10] > typeof undefined ''undefined'' > typeof 123n ''bigint''
    > typeof ''abc'' ''string'' > typeof {} ''object''  [PRE11] x instanceof C  [PRE12]
    > (function() {}) instanceof Function true > ({}) instanceof Object true > []
    instanceof Array true  [PRE13] > 123 instanceof Number false > '''' instanceof
    String false > '''' instanceof Object false  [PRE14]     assert.equal(Number(''123''),
    123);          [PRE15]     assert.equal((123).toString, Number.prototype.toString);          [PRE16]     assert.equal(Number.isInteger(123),
    true);          [PRE17] const prim = true; assert.equal(typeof prim, ''boolean'');
    assert.equal(prim instanceof Boolean, false);  [PRE18] const wrapper = Object(prim);
    assert.equal(typeof wrapper, ''object''); // not ''boolean'' assert.equal(wrapper
    instanceof Boolean, true);  [PRE19] assert.equal(wrapper.valueOf(), prim); //
    unwrap  [PRE20] > Boolean(0) false > Number(''123'') 123 > String(123) ''123''  [PRE21]
    > typeof Object(123) ''object''  [PRE22] > ''7'' * ''3'' 21  [PRE23] > Number.parseInt(123.45)
    123  [PRE24]` [PRE25][PRE26][PRE27][PRE28]``````'
  prefs: []
  type: TYPE_NORMAL
