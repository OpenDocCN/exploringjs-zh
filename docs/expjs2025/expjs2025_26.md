# 22â€ƒå­—ç¬¦ä¸²

> åŸæ–‡ï¼š[`exploringjs.com/js/book/ch_strings.html`](https://exploringjs.com/js/book/ch_strings.html)

1.  22.1â€ƒé€ŸæŸ¥è¡¨ï¼šå­—ç¬¦ä¸²

    1.  22.1.1â€ƒå¤„ç†å­—ç¬¦ä¸²

    1.  22.1.2â€ƒJavaScript å­—ç¬¦ä¸ç ç‚¹ä¸å›¾å½¢ç°‡

    1.  22.1.3â€ƒå­—ç¬¦ä¸²æ–¹æ³•

1.  22.2â€ƒæ™®é€šå­—ç¬¦ä¸²å­—é¢é‡

    1.  22.2.1â€ƒè½¬ä¹‰

1.  22.3â€ƒè®¿é—® JavaScript å­—ç¬¦

1.  22.4â€ƒå­—ç¬¦ä¸²è¿æ¥

    1.  22.4.1â€ƒé€šè¿‡ `+` è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥

    1.  22.4.2â€ƒé€šè¿‡æ•°ç»„è¿æ¥ï¼ˆ`.push()` å’Œ `.join()`ï¼‰

1.  22.5â€ƒåœ¨ JavaScript ä¸­å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æœ‰é™·é˜±

    1.  22.5.1â€ƒç¤ºä¾‹ï¼šæœ‰é—®é¢˜çš„ä»£ç 

    1.  22.5.2â€ƒå››ç§å¸¸è§çš„å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•

    1.  22.5.3â€ƒä½¿ç”¨ `JSON.stringify()` å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²

    1.  22.5.4â€ƒè§£å†³æ–¹æ¡ˆ

    1.  22.5.5â€ƒè‡ªå®šä¹‰å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼

1.  22.6â€ƒæ¯”è¾ƒå­—ç¬¦ä¸²

1.  22.7â€ƒæ–‡æœ¬åŸå­ï¼šç ç‚¹ã€JavaScript å­—ç¬¦ã€å›¾å½¢ç°‡

    1.  22.7.1â€ƒå¤„ç†ä»£ç å•å…ƒï¼ˆJavaScript å­—ç¬¦ï¼‰

    1.  22.7.2â€ƒå¤„ç†ç ç‚¹

    1.  22.7.3â€ƒå¤„ç†å›¾å½¢ç°‡

1.  22.8â€ƒå¿«é€Ÿå‚è€ƒï¼šå­—ç¬¦ä¸²

    1.  22.8.1â€ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²

    1.  22.8.2â€ƒæ–‡æœ¬åŸå­çš„æ•°å€¼

    1.  22.8.3â€ƒ`String.prototype.*`: æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•

    1.  22.8.4â€ƒ`String.prototype.*`: æŸ¥æ‰¾å’ŒåŒ¹é…

    1.  22.8.5â€ƒ`String.prototype.*`: æå–

    1.  22.8.6â€ƒ`String.prototype.*`: ç»„åˆ

    1.  22.8.7â€ƒ`String.prototype.*`: è½¬æ¢

    1.  22.8.8â€ƒæœ¬å¿«é€Ÿå‚è€ƒçš„æ¥æº

### 22.1â€ƒé€ŸæŸ¥è¡¨ï¼šå­—ç¬¦ä¸²

åœ¨ JavaScript ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯åŸå§‹å€¼ä¸”ä¸å¯å˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å­—ç¬¦ä¸²ç›¸å…³çš„æ“ä½œæ€»æ˜¯äº§ç”Ÿæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸ä¼šæ›´æ”¹ç°æœ‰çš„å­—ç¬¦ä¸²ã€‚

#### 22.1.1â€ƒå¤„ç†å­—ç¬¦ä¸²

å­—ç¬¦ä¸²å­—é¢é‡ï¼š

```js
const str1 = 'Don\'t say "goodbye"'; // string literal
const str2 = "Don't say \"goodbye\""; // string literals
assert.equal(
  `As easy as ${123}!`, // template literal
  'As easy as 123!',
);

```

åæ–œæ ç”¨äºï¼š

+   è½¬ä¹‰å­—é¢é‡åˆ†éš”ç¬¦ï¼ˆå‰ä¸¤ä¸ªç¤ºä¾‹çš„ç¤ºä¾‹çš„ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œï¼‰

+   è¡¨ç¤ºç‰¹æ®Šå­—ç¬¦ï¼š

    +   `\\` è¡¨ç¤ºåæ–œæ 

    +   `\n` è¡¨ç¤ºæ¢è¡Œç¬¦

    +   `\r` è¡¨ç¤ºå›è½¦ç¬¦

    +   `\t` è¡¨ç¤ºåˆ¶è¡¨ç¬¦

åœ¨ `String.raw` æ ‡ç­¾æ¨¡æ¿ï¼ˆè¡Œ Aï¼‰å†…éƒ¨ï¼Œåæ–œæ è¢«è§†ä¸ºæ™®é€šå­—ç¬¦ï¼š

```js
assert.equal(
  String.raw`\ \n\t`, // (A)
  '\\ \\n\\t',
);

```

å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š

```js
> String(undefined)
'undefined'
> String(null)
'null'
> String(123.45)
'123.45'
> String(true)
'true'

```

å¤åˆ¶å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†

```js
// There is no type for characters;
// reading characters produces strings:
const str3 = 'abc';
assert.equal(
  str3[2], 'c' // no negative indices allowed
);
assert.equal(
  str3.at(-1), 'c' // negative indices allowed
);

// Copying more than one character:
assert.equal(
  'abc'.slice(0, 2), 'ab'
);

```

å­—ç¬¦ä¸²è¿æ¥ï¼š

```js
assert.equal(
  'I bought ' + 3 + ' apples',
  'I bought 3 apples',
);

let str = '';
str += 'I bought ';
str += 3;
str += ' apples';
assert.equal(
  str, 'I bought 3 apples',
);

```

#### 22.1.2 JavaScript å­—ç¬¦ä¸ç ç‚¹ä¸å›¾å½¢ç°‡

+   **ç ç‚¹**æ˜¯ 21 ä½ Unicode å­—ç¬¦ã€‚

+   **JavaScript å­—ç¬¦**æ˜¯ 16 ä½ UTF-16 ç å•å…ƒã€‚ä¸ºäº†ç¼–ç ä¸€ä¸ªç ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆ°ä¸¤ä¸ªç å•å…ƒã€‚å¤§å¤šæ•°ç ç‚¹é€‚åˆåœ¨ä¸€ä¸ªç å•å…ƒä¸­ã€‚

+   **å›¾å½¢ç°‡**æ˜¯*ç”¨æˆ·æ„ŸçŸ¥å­—ç¬¦*ï¼Œä»£è¡¨ä¹¦å†™ç¬¦å·ã€‚å¤§å¤šæ•°å›¾å½¢ç°‡åªæœ‰ä¸€ä¸ªç ç‚¹é•¿ï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥æ›´é•¿â€”â€”ä¾‹å¦‚ï¼Œä¸€äº›è¡¨æƒ…ç¬¦å·ã€‚

ç¤ºä¾‹â€”â€”ç”±å¤šä¸ªç ç‚¹ç»„æˆçš„å›¾å½¢ç°‡ï¼š

```js
const graphemeCluster = 'ğŸ˜µâ€ğŸ’«';
assert.equal(
  // 5 JavaScript characters
  'ğŸ˜µâ€ğŸ’«'.length, 5
);
assert.deepEqual(
  // Iteration splits into code points
  Array.from(graphemeCluster),
  ['ğŸ˜µ', '\u200D', 'ğŸ’«']
);

```

æ›´å¤šå…³äºå¦‚ä½•å¤„ç†æ–‡æœ¬çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œæ–‡æœ¬åŸå­ï¼šç ç‚¹ã€JavaScript å­—ç¬¦ã€å›¾å½¢ç°‡â€ï¼ˆÂ§22.7ï¼‰ã€‚

#### 22.1.3 å­—ç¬¦ä¸²æ–¹æ³•

æœ¬å°èŠ‚ç®€è¦æ¦‚è¿°äº†å­—ç¬¦ä¸² APIã€‚æœ¬ç« æœ«å°¾æœ‰ä¸€ä¸ªæ›´å…¨é¢çš„å¿«é€Ÿå‚è€ƒå¿«é€Ÿå‚è€ƒã€‚

æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼š

```js
> 'abca'.includes('a')
true
> 'abca'.startsWith('ab')
true
> 'abca'.endsWith('ca')
true

> 'abca'.indexOf('a')
0
> 'abca'.lastIndexOf('a')
3

```

åˆ†å‰²å’Œè¿æ¥ï¼š

```js
assert.deepEqual(
  'a, b,c'.split(/, ?/),
  ['a', 'b', 'c']
);
assert.equal(
  ['a', 'b', 'c'].join(', '),
  'a, b, c'
);

```

å¡«å……å’Œä¿®å‰ªï¼š

```js
> '7'.padStart(3, '0')
'007'
> 'yes'.padEnd(6, '!')
'yes!!!'

> '\t abc\n '.trim()
'abc'
> '\t abc\n '.trimStart()
'abc\n '
> '\t abc\n '.trimEnd()
'\t abc'

```

é‡å¤å’Œæ›´æ”¹å¤§å°å†™ï¼š

```js
> '*'.repeat(5)
'*****'
> '= b2b ='.toUpperCase()
'= B2B ='
> 'Î‘Î’Î“'.toLowerCase()
'Î±Î²Î³'

```

### 22.2 å¹³å‡¡å­—ç¬¦ä¸²å­—é¢é‡

å¹³å‡¡å­—ç¬¦ä¸²å­—é¢é‡ç”±å•å¼•å·æˆ–åŒå¼•å·åˆ†éš”ï¼š

```js
const str1 = 'abc';
const str2 = "abc";
assert.equal(str1, str2);

```

å•å¼•å·ä½¿ç”¨å¾—æ›´é¢‘ç¹ï¼Œå› ä¸ºå®ƒä½¿å¾—æåŠ HTML æ›´å®¹æ˜“ï¼Œåœ¨ HTML ä¸­åŒå¼•å·æ˜¯é¦–é€‰çš„ã€‚

ä¸‹ä¸€ç« ä»‹ç»äº†*æ¨¡æ¿å­—é¢é‡*ï¼Œå®ƒç»™æˆ‘ä»¬ï¼š

+   å­—ç¬¦ä¸²æ’å€¼

+   å¤šè¡Œ

+   åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆåæ–œæ æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼‰

#### 22.2.1 è½¬ä¹‰

åæ–œæ å…è®¸æˆ‘ä»¬åˆ›å»ºç‰¹æ®Šå­—ç¬¦ï¼š

+   Unix è¡Œç»“æŸç¬¦ï¼š`'\n'`

+   Windows è¡Œç»“æŸç¬¦ï¼š`'\r\n'`

+   åˆ¶è¡¨ç¬¦ï¼š`'\t'`

+   åæ–œæ ï¼š`'\\'`

åæ–œæ è¿˜å…è®¸æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²å­—é¢é‡å†…éƒ¨ä½¿ç”¨è¯¥å­—é¢é‡çš„åˆ†éš”ç¬¦ï¼š

```js
assert.equal(
  'She said: "Let\'s go!"',
  "She said: \"Let's go!\"");

```

### 22.3 è®¿é—® JavaScript å­—ç¬¦

JavaScript æ²¡æœ‰é¢å¤–çš„å­—ç¬¦æ•°æ®ç±»å‹â€”â€”å­—ç¬¦å§‹ç»ˆä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¡¨ç¤ºã€‚

```js
const str = 'abc';

// Reading a JavaScript character at a given index
assert.equal(str[1], 'b');

// Counting the JavaScript characters in a string:
assert.equal(str.length, 3);

```

æˆ‘ä»¬åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å­—ç¬¦è¢«ç§°ä¸º*å›¾å½¢ç°‡*ã€‚å…¶ä¸­å¤§å¤šæ•°ç”±å•ä¸ª JavaScript å­—ç¬¦è¡¨ç¤ºã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰ä¸€äº›å›¾å½¢ç°‡ï¼ˆç‰¹åˆ«æ˜¯è¡¨æƒ…ç¬¦å·ï¼‰ç”±å¤šä¸ª JavaScript å­—ç¬¦è¡¨ç¤ºï¼š

```js
> 'ğŸ™‚'.length
2

```

è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„è§£é‡Šè§â€œæ–‡æœ¬åŸå­ï¼šç ç‚¹ã€JavaScript å­—ç¬¦ã€å›¾å½¢ç°‡â€ï¼ˆÂ§22.7ï¼‰ã€‚

### 22.4 å­—ç¬¦ä¸²è¿æ¥

#### 22.4.1 é€šè¿‡ `+` è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥

å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åŠ å·è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰å°†ä»»ä½•éå­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å°†ç»“æœè¿æ¥èµ·æ¥ï¼š

```js
assert.equal(3 + ' times ' + 4, '3 times 4');

```

èµ‹å€¼è¿ç®—ç¬¦ `+=` å¦‚æœæˆ‘ä»¬æƒ³é€æ­¥ç»„è£…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒå¾ˆæœ‰ç”¨ï¼š

```js
let str = ''; // must be `let`!
str += 'Say it';
str += ' one more';
str += ' time';

assert.equal(str, 'Say it one more time');

```

![Icon â€œdetailsâ€](img/38ba63de820aae6f94a019538ae0f222.png)â€‚**é€šè¿‡ `+` è¿æ¥æ˜¯é«˜æ•ˆçš„**

ä½¿ç”¨ `+` ç»„è£…å­—ç¬¦ä¸²ç›¸å½“é«˜æ•ˆï¼Œå› ä¸ºå¤§å¤šæ•° JavaScript å¼•æ“éƒ½ä¼šå¯¹å…¶è¿›è¡Œå†…éƒ¨ä¼˜åŒ–ã€‚

![Icon â€œexerciseâ€](img/4fc2ec98bb44cc1f4de7c6a46d9dd043.png)â€‚**ç»ƒä¹ ï¼šå­—ç¬¦ä¸²è¿æ¥**

`exercises/strings/concat_string_array_test.mjs`

#### 22.4.2â€ƒé€šè¿‡æ•°ç»„è¿›è¡Œè¿æ¥ï¼ˆ`.push()` å’Œ `.join()`ï¼‰

æœ‰æ—¶ï¼Œé€šè¿‡æ•°ç»„ç»•é“è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥å¯èƒ½ä¼šæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒä»¬ä¹‹é—´éœ€è¦åˆ†éš”ç¬¦ï¼ˆä¾‹å¦‚è¡Œ A ä¸­çš„ `', '`ï¼‰ï¼š

```js
function getPackingList(isAbroad = false, days = 1) {
  const items = [];
  items.push('tooth brush');
  if (isAbroad) {
    items.push('passport');
  }
  if (days > 3) {
    items.push('water bottle');
  }
  return items.join(', '); // (A)
}
assert.equal(
  getPackingList(),
  'tooth brush'
);
assert.equal(
  getPackingList(true, 7),
  'tooth brush, passport, water bottle'
);

```

### 22.5â€ƒJavaScript ä¸­è½¬æ¢å€¼åˆ°å­—ç¬¦ä¸²çš„é™·é˜±

JavaScript ä¸­å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¯”çœ‹èµ·æ¥è¦å¤æ‚ï¼š

+   å¤§å¤šæ•°æ–¹æ³•éƒ½æœ‰å®ƒä»¬æ— æ³•å¤„ç†çš„å€¼ã€‚

+   æˆ‘ä»¬å¹¶ä¸æ€»æ˜¯çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®ã€‚

#### 22.5.1â€ƒç¤ºä¾‹ï¼šæœ‰é—®é¢˜çš„ä»£ç 

ä½ èƒ½å¦åœ¨ä»¥ä¸‹ä»£ç ä¸­æ‰¾åˆ°é—®é¢˜ï¼Ÿ

```js
class UnexpectedValueError extends Error {
  constructor(value) {
    super('Unexpected value: ' + value); // (A)
  }
}

```

å¯¹äºæŸäº›å€¼ï¼Œè¿™æ®µä»£ç åœ¨è¡Œ A æŠ›å‡ºå¼‚å¸¸ï¼š

```js
> new UnexpectedValueError(Symbol())
TypeError: Cannot convert a Symbol value to a string
> new UnexpectedValueError({__proto__:null})
TypeError: Cannot convert object to primitive value

```

ç»§ç»­é˜…è¯»ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

#### 22.5.2â€ƒå››ç§å¸¸è§çš„å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•

1.  `String(v)`

1.  `v.toString()`

1.  `'' + v`

1.  `` `${v}` ``

ä»¥ä¸‹è¡¨æ ¼æ˜¾ç¤ºäº†è¿™äº›æ“ä½œä¸å„ç§å€¼çš„è¡¨ç°æƒ…å†µï¼ˆ#4 äº§ç”Ÿçš„ç»“æœä¸#3 ç›¸åŒï¼‰ã€‚

|  | `String(v)` | `'' + v` | `v.toString()` |
| --- | --- | --- | --- |
| `undefined` | `'undefined'` | `'undefined'` | **TypeError** |
| `null` | `'null'` | `'null'` | **TypeError** |
| `true` | `'true'` | `'true'` | `'true'` |
| `123` | `'123'` | `'123'` | `'123'` |
| `123n` | `'123'` | `'123'` | `'123'` |
| `"abc"` | `'abc'` | `'abc'` | `'abc'` |
| `Symbol()` | `'Symbol()'` | **TypeError** | `'Symbol()'` |
| `{a:1}` | `'[object Object]'` | `'[object Object]'` | `'[object Object]'` |
| `['a']` | `'a'` | `'a'` | `'a'` |
| `{__proto__:null}` | **TypeError** | **TypeError** | **TypeError** |
| `Symbol.prototype` | **TypeError** | **TypeError** | **TypeError** |
| `() => {}` | `'() => {}'` | `'() => {}'` | `'() => {}'` |

è®©æˆ‘ä»¬æ¢ç©¶ä¸ºä»€ä¹ˆè¿™äº›å€¼ä¼šäº§ç”Ÿå¼‚å¸¸æˆ–ä¸æ˜¯éå¸¸æœ‰ç”¨çš„ç»“æœã€‚

##### 22.5.2.1â€ƒæ£˜æ‰‹å€¼ï¼šç¬¦å·

ç¬¦å·å¿…é¡»æ˜¾å¼åœ°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆé€šè¿‡ `String()` æˆ– `.toString()`ï¼‰ã€‚é€šè¿‡è¿æ¥è½¬æ¢ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š

```js
> '' + Symbol()
TypeError: Cannot convert a Symbol value to a string

```

ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢æ„å¤–åœ°å°†ä¸€ä¸ªç¬¦å·å±æ€§é”®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆè¿™åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å±æ€§é”®ï¼‰ã€‚

##### 22.5.2.2â€ƒæ£˜æ‰‹å€¼ï¼šå…·æœ‰ `null` åŸå‹çš„å¯¹è±¡

å¦‚æœæ²¡æœ‰ `.toString()` æ–¹æ³•ï¼Œ`v.toString()` ä¸èµ·ä½œç”¨çš„åŸå› å¾ˆæ˜æ˜¾ã€‚ç„¶è€Œï¼Œå…¶ä»–è½¬æ¢æ“ä½œä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè°ƒç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨è¿”å›çš„ç¬¬ä¸€ä¸ªåŸå§‹å€¼ï¼ˆåœ¨å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²åï¼‰ï¼š

+   `v[Symbol.toPrimitive]()`

+   `v.toString()`

+   `v.valueOf()`

å¦‚æœè¿™äº›æ–¹æ³•ä¸­æ²¡æœ‰ä¸€ä¸ªå­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡º `TypeError`ã€‚

```js
> String({__proto__: null, [Symbol.toPrimitive]() {return 'YES'}})
'YES'
> String({__proto__: null, toString() {return 'YES'}})
'YES'
> String({__proto__: null, valueOf() {return 'YES'}})
'YES'

> String({__proto__: null}) // no method available
TypeError: Cannot convert object to primitive value 
```

æˆ‘ä»¬å¯èƒ½åœ¨å“ªäº›åœ°æ–¹é‡åˆ°å…·æœ‰ `null` åŸå‹çš„å¯¹è±¡ï¼Ÿ

+   â€œå…·æœ‰ `null` åŸå‹çš„å¯¹è±¡ä½œä¸ºå­—å…¸â€ï¼ˆÂ§30.9.11.4ï¼‰

+   â€œå…·æœ‰ `null` åŸå‹çš„å¯¹è±¡ä½œä¸ºå›ºå®šæŸ¥æ‰¾è¡¨â€ï¼ˆÂ§30.9.11.5ï¼‰

+   â€œæ ‡å‡†åº“ä¸­çš„ `null` åŸå‹â€ï¼ˆÂ§30.9.11.6ï¼‰

##### 22.5.2.3 è¯¡å¼‚çš„å€¼ï¼šä¸€èˆ¬å¯¹è±¡

ç®€å•å¯¹è±¡é»˜è®¤çš„å­—ç¬¦ä¸²è¡¨ç¤ºå¹¶ä¸å¾ˆæœ‰ç”¨ï¼š

```js
> String({a: 1})
'[object Object]'

```

æ•°ç»„æœ‰æ›´å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä½†å®ƒä»¬ä»ç„¶éšè—äº†å¾ˆå¤šä¿¡æ¯ï¼š

```js
> String(['a', 'b'])
'a,b'
> String(['a', ['b']])
'a,b'

> String([1, 2])
'1,2'
> String(['1', '2'])
'1,2'

> String([true])
'true'
> String(['true'])
'true'
> String(true)
'true'

```

##### 22.5.2.4 è¯¡å¼‚çš„å€¼ï¼š`Symbol.prototype`

ä½ å¯èƒ½æ°¸è¿œä¸ä¼šåœ¨é‡å¤–é‡åˆ° `Symbol.prototype`ï¼ˆæä¾›ç¬¦å·æ–¹æ³•çš„å¯¹è±¡ï¼‰è¿™ä¸ªå€¼ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªæœ‰è¶£çš„è¾¹ç¼˜æƒ…å†µï¼šå¦‚æœ `this` ä¸æ˜¯ä¸€ä¸ªç¬¦å·ï¼Œ`Symbol.prototype[Symbol.toPrimitive]()` ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆå°† `Symbol.prototype` è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä¸èµ·ä½œç”¨ï¼š

```js
> Symbol.prototype[Symbol.toPrimitive]()
TypeError: Symbol.prototype [ @@toPrimitive ] requires that 'this' be a Symbol
> String(Symbol.prototype)
TypeError: Symbol.prototype [ @@toPrimitive ] requires that 'this' be a Symbol

```

#### 22.5.3 ä½¿ç”¨ `JSON.stringify()` å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²

JSON æ•°æ®æ ¼å¼æ˜¯ JavaScript å€¼çš„æ–‡æœ¬è¡¨ç¤ºã€‚å› æ­¤ï¼Œ`JSON.stringify()` ä¹Ÿå¯ä»¥ç”¨æ¥å°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å®ƒåœ¨å¯¹è±¡å’Œæ•°ç»„ä¸­ç‰¹åˆ«æœ‰æ•ˆï¼Œå› ä¸ºæ­£å¸¸çš„å­—ç¬¦ä¸²è½¬æ¢æœ‰æ˜¾è‘—çš„ä¸è¶³ï¼š

```js
> JSON.stringify({a: 1})
'{"a":1}'
> JSON.stringify(['a', ['b']])
'["a",["b"]]'

```

`JSON.stringify()` å¯¹åŸå‹ä¸º `null` çš„å¯¹è±¡æ²¡æœ‰é—®é¢˜ï¼š

```js
> JSON.stringify({__proto__: null, a: 1})
'{"a":1}'

```

ä¸»è¦ç¼ºç‚¹æ˜¯ `JSON.stringify()` åªæ”¯æŒä»¥ä¸‹å€¼ï¼š

+   åŸå§‹å€¼ï¼š

    +   `null`

    +   å¸ƒå°”å€¼

    +   æ•°å­—ï¼ˆé™¤äº† `NaN` å’Œ `Infinity`ï¼‰

    +   å­—ç¬¦ä¸²

+   éåŸå§‹å€¼ï¼š

    +   æ•°ç»„

    +   å¯¹è±¡ï¼ˆé™¤äº†å‡½æ•°ï¼‰

å¯¹äºå¤§å¤šæ•°å…¶ä»–å€¼ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœæ˜¯ `undefined`ï¼ˆè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼š

```js
> JSON.stringify(undefined)
undefined
> JSON.stringify(Symbol())
undefined
> JSON.stringify(() => {})
undefined

```

å¤§æ•´æ•°ä¼šå¯¼è‡´å¼‚å¸¸ï¼š

```js
> JSON.stringify(123n)
TypeError: Do not know how to serialize a BigInt

```

äº§ç”Ÿ `undefined` å€¼çš„å±æ€§è¢«çœç•¥ï¼š

```js
> JSON.stringify({a: Symbol(), b: 2})
'{"b":2}'

```

æ•°ç»„å…ƒç´ ä¸­çš„å€¼äº§ç”Ÿ `undefined` æ—¶ï¼Œä¼šè¢«è½¬æ¢ä¸º `null`ï¼š

```js
> JSON.stringify(['a', Symbol(), 'b'])
'["a",null,"b"]'

```

ä¸‹è¡¨æ€»ç»“äº† `JSON.stringify(v)` çš„ç»“æœï¼š

|  | `JSON.stringify(v)` |
| --- | --- |
| `undefined` | `undefined` |
| `null` | `'null'` |
| `true` | `'true'` |
| `123` | `'123'` |
| `123n` | **TypeError** |
| `'abc'` | `'"abc"'` |
| `Symbol()` | `undefined` |
| `{a:1}` | `'{"a":1}'` |
| `['a']` | `'["a"]'` |
| `() => {}` | `undefined` |
| `{__proto__:null}` | `'{}'` |
| `Symbol.prototype` | `'{}'` |

æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œæ•°æ®è½¬æ¢ä¸º JSON çš„è¯¦ç»†ä¿¡æ¯â€ï¼ˆÂ§48.3.1.3ï¼‰ã€‚

##### 22.5.3.1 å¤šè¡Œè¾“å‡º

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`JSON.stringify()` è¿”å›å•è¡Œæ–‡æœ¬ã€‚ä½†æ˜¯ï¼Œå¯é€‰çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥å¯ç”¨å¤šè¡Œè¾“å‡ºï¼Œå¹¶å…è®¸æˆ‘ä»¬æŒ‡å®šç¼©è¿›é‡ - ä¾‹å¦‚ï¼š

```js
assert.equal(
JSON.stringify({first: 'Robin', last: 'Doe'}, null, 2),
`{
 "first": "Robin",
 "last": "Doe"
}`
);

```

##### 22.5.3.2 é€šè¿‡ `JSON.stringify()` æ˜¾ç¤ºå­—ç¬¦ä¸²

`JSON.stringify()` å¯¹äºæ˜¾ç¤ºä»»æ„å­—ç¬¦ä¸²å¾ˆæœ‰ç”¨ï¼š

+   ç»“æœæ€»æ˜¯é€‚åˆå•è¡Œã€‚

+   ä¸å¯è§å­—ç¬¦ï¼Œå¦‚æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ï¼Œå˜å¾—å¯è§ã€‚

ç¤ºä¾‹ï¼š

```js
const strWithNewlinesAndTabs = `
TAB->	<-TAB
Second line 
`;
console.log(JSON.stringify(strWithNewlinesAndTabs));

```

è¾“å‡ºï¼š

```js
"\nTAB->\t<-TAB\nSecond line \n"

```

#### 22.5.4 è§£å†³æ–¹æ¡ˆ

é—æ†¾çš„æ˜¯ï¼Œæ²¡æœ‰å¥½çš„å†…ç½®å­—ç¬¦ä¸²åŒ–è§£å†³æ–¹æ¡ˆå§‹ç»ˆæœ‰æ•ˆã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸€ä¸ªé€‚ç”¨äºæ‰€æœ‰ç®€å•ç”¨ä¾‹çš„çŸ­å‡½æ•°ï¼Œä»¥åŠæ›´å¤æ‚ç”¨ä¾‹çš„è§£å†³æ–¹æ¡ˆã€‚

##### 22.5.4.1 ç®€å•è§£å†³æ–¹æ¡ˆï¼šè‡ªå®šä¹‰ `toString()` å‡½æ•°

å­—ç¬¦ä¸²åŒ–çš„ç®€å•è§£å†³æ–¹æ¡ˆä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ

`JSON.stringify()` å¯¹äºè®¸å¤šæ•°æ®éƒ½å·¥ä½œå¾—å¾ˆå¥½ï¼Œç‰¹åˆ«æ˜¯æ™®é€šå¯¹è±¡å’Œæ•°ç»„ã€‚å¦‚æœå®ƒæ— æ³•å°†ç»™å®šçš„å€¼å­—ç¬¦ä¸²åŒ–ï¼Œåˆ™è¿”å› `undefined` è€Œä¸æ˜¯å­—ç¬¦ä¸²â€”â€”é™¤éè¯¥å€¼æ˜¯ `bigint`ã€‚ç„¶åå®ƒæŠ›å‡ºå¼‚å¸¸ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²åŒ–ï¼š

```js
function toString(v) {
  if (typeof v === 'bigint') {
    return v + 'n';
  }
  return JSON.stringify(v) ?? String(v); // (A)
}

```

å¯¹äºä¸æ”¯æŒ `JSON.stringify()` çš„å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ `String()` ä½œä¸ºåå¤‡ï¼ˆè¡Œ Aï¼‰ã€‚è¯¥å‡½æ•°åªå¯¹ä»¥ä¸‹ä¸¤ä¸ªå€¼æŠ›å‡ºå¼‚å¸¸â€”â€”è¿™ä¸¤ä¸ªå€¼éƒ½ç”± `JSON.stringify()` è‰¯å¥½å¤„ç†ï¼š

+   `{__proto__:null}`

+   `Symbol.prototype`

ä¸‹è¡¨æ€»ç»“äº† `toString()` çš„ç»“æœï¼š

|  | `toString()` |
| --- | --- |
| `undefined` | `'undefined'` |
| `null` | `'null'` |
| `true` | `'true'` |
| `123` | `'123'` |
| `123n` | `'123n'` |
| `'abc'` | `'"abc"'` |
| `Symbol()` | `'Symbol()'` |
| `{a:1}` | `'{"a":1}'` |
| `['a']` | `'["a"]'` |
| `() => {}` | `'() => {}'` |
| `{__proto__:null}` | `'{}'` |
| `Symbol.prototype` | `'{}'` |

##### 22.5.4.2 ç”¨äºå­—ç¬¦ä¸²åŒ–çš„åº“

+   Sindre Sorhus çš„åº“ [stringify-object](https://github.com/sindresorhus/stringify-object)ï¼šâ€œåƒ `JSON.stringify` ä¸€æ ·å­—ç¬¦ä¸²åŒ–å¯¹è±¡/æ•°ç»„ï¼Œåªæ˜¯æ²¡æœ‰æ‰€æœ‰çš„åŒå¼•å·â€

##### 22.5.4.3 Node.js çš„å­—ç¬¦ä¸²åŒ–å€¼å‡½æ•°

Node.js æœ‰å‡ ä¸ªå†…ç½®å‡½æ•°ï¼Œæä¾›äº†å°† JavaScript å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„å¤æ‚æ”¯æŒâ€”â€”ä¾‹å¦‚ï¼š

+   [`util.inspect(obj)`](https://nodejs.org/api/util.html#utilinspectobject-options) â€œè¿”å› `obj` çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œè¯¥è¡¨ç¤ºå½¢å¼æ—¨åœ¨ç”¨äºè°ƒè¯•â€ã€‚

+   [`util.format(format, ...args)`](https://nodejs.org/api/util.html#utilformatformat-args) â€œä½¿ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç±»ä¼¼äº printf çš„æ ¼å¼å­—ç¬¦ä¸²è¿”å›æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªæ ¼å¼è¯´æ˜ç¬¦â€ã€‚

è¿™äº›å‡½æ•°ç”šè‡³å¯ä»¥å¤„ç†å¾ªç¯æ•°æ®ï¼š

```js
import * as util from 'node:util';

const cycle = {};
cycle.prop = cycle;
assert.equal(
  util.inspect(cycle),
  '<ref *1> { prop: [Circular *1] }'
);

```

##### 22.5.4.4 å­—ç¬¦ä¸²åŒ–çš„æ›¿ä»£æ–¹æ¡ˆï¼šå°†æ•°æ®è®°å½•åˆ°æ§åˆ¶å°

æ§åˆ¶å°æ–¹æ³•ï¼Œå¦‚ `console.log()`ï¼Œé€šå¸¸ä¼šäº§ç”Ÿè‰¯å¥½çš„è¾“å‡ºï¼Œå¹¶ä¸”é™åˆ¶å¾ˆå°‘ï¼š

```js
console.log({__proto__: null, prop: Symbol()});

```

è¾“å‡ºï¼š

```js
[Object: null prototype] { prop: Symbol() }

```

ç„¶è€Œï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬åªæ˜¾ç¤ºåˆ°ä¸€å®šæ·±åº¦çš„å¯¹è±¡ï¼š

```js
console.log({a: {b: {c: {d: true}}}});

```

è¾“å‡ºï¼š

```js
{ a: { b: { c: [Object] } } }

```

Node.js å…è®¸æˆ‘ä»¬ä¸º `console.dir()` æŒ‡å®šæ·±åº¦â€”â€”`null` è¡¨ç¤ºæ— é™ï¼š

```js
console.dir({a: {b: {c: {d: true}}}}, {depth: null});

```

è¾“å‡ºï¼š

```js
{
  a: { b: { c: { d: true } } }
}

```

åœ¨æµè§ˆå™¨ä¸­ï¼Œ`console.dir()` æ²¡æœ‰é€‰é¡¹å¯¹è±¡ï¼Œä½†å…è®¸æˆ‘ä»¬äº¤äº’å¼åœ°é€æ­¥æ·±å…¥åˆ°å¯¹è±¡ä¸­ã€‚

#### 22.5.5 è‡ªå®šä¹‰å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼

##### 22.5.5.1 è‡ªå®šä¹‰å¯¹è±¡çš„å­—ç¬¦ä¸²è½¬æ¢

æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°æ–¹æ³• `.toString()` æ¥è‡ªå®šä¹‰å¯¹è±¡å­—ç¬¦ä¸²åŒ–çš„å†…ç½®æ–¹å¼ï¼š

```js
const helloObj = {
  toString() {
 return 'Hello!';
 }
};
assert.equal(
 String(helloObj), 'Hello!'
);

```

##### 22.5.5.2 è‡ªå®šä¹‰è½¬æ¢ä¸º JSON

æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°æ–¹æ³• `.toJSON()` æ¥è‡ªå®šä¹‰å¯¹è±¡è½¬æ¢ä¸º JSON çš„æ–¹å¼ï¼š

```js
const point = {
  x: 1,
  y: 2,
  toJSON() {
 return [this.x, this.y];
 }
}
assert.equal(
 JSON.stringify(point), '[1,2]'
);

```

### 22.6 æ¯”è¾ƒå­—ç¬¦ä¸²

å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡ä»¥ä¸‹è¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒï¼š

```js
< <= > >=

```

æœ‰ä¸€ä¸ªé‡è¦çš„æ³¨æ„äº‹é¡¹éœ€è¦è€ƒè™‘ï¼šè¿™äº›è¿ç®—ç¬¦æ˜¯æ ¹æ® JavaScript å­—ç¬¦çš„æ•°å€¼è¿›è¡Œæ¯”è¾ƒçš„ã€‚è¿™æ„å‘³ç€ JavaScript ç”¨äºå­—ç¬¦ä¸²çš„é¡ºåºä¸å­—å…¸å’Œç”µè¯ç°¿ä¸­ä½¿ç”¨çš„é¡ºåºä¸åŒï¼š

```js
> 'A' < 'B' // ok
true
> 'a' < 'B' // not ok
false
> 'Ã¤' < 'b' // not ok
false

```

æ­£ç¡®æ¯”è¾ƒæ–‡æœ¬è¶…å‡ºäº†æœ¬ä¹¦çš„èŒƒå›´ã€‚å®ƒé€šè¿‡ [ECMAScript å›½é™…åŒ– API (`Intl`)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl) æ¥æ”¯æŒã€‚

### 22.7 æ–‡æœ¬åŸå­ï¼šä»£ç ç‚¹ã€JavaScript å­—ç¬¦ã€å›¾å½¢ç¾¤ç»„

å¿«é€Ÿå›é¡¾ â€œUnicode - ç®€è¦ä»‹ç»ï¼ˆé«˜çº§ï¼‰â€ï¼ˆÂ§21ï¼‰:

+   *ä»£ç ç‚¹* æ˜¯ Unicode æ–‡æœ¬çš„åŸå­éƒ¨åˆ†ã€‚æ¯ä¸ªä»£ç ç‚¹çš„å¤§å°ä¸º 21 ä½ã€‚

+   æ¯ä¸ª *JavaScript* å­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª UTF-16 ä»£ç å•å…ƒï¼ˆ16 ä½ï¼‰ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæˆ–ä¸¤ä¸ªä»£ç å•å…ƒæ¥ç¼–ç ä¸€ä¸ªä»£ç ç‚¹ã€‚å¤§å¤šæ•°ä»£ç ç‚¹å¯ä»¥é€‚åº”ä¸€ä¸ªä»£ç å•å…ƒã€‚

+   *å›¾å½¢ç¾¤ç»„*ï¼ˆ*ç”¨æˆ·æ„ŸçŸ¥å­—ç¬¦*ï¼‰ä»£è¡¨ä¹¦å†™ç¬¦å·ï¼Œå¦‚å±å¹•æˆ–çº¸å¼ ä¸Šæ˜¾ç¤ºçš„ã€‚ç¼–ç å•ä¸ªå›¾å½¢ç¾¤ç»„éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªä»£ç ç‚¹ã€‚å¤§å¤šæ•°å›¾å½¢ç¾¤ç»„åªæœ‰ä¸€ä¸ªä»£ç ç‚¹é•¿ã€‚

ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†ä¸€ä¸ªä»£ç ç‚¹ç”±ä¸€ä¸ªæˆ–ä¸¤ä¸ª JavaScript å­—ç¬¦ç»„æˆã€‚æˆ‘ä»¬é€šè¿‡ `.length` æ¥è®¡ç®—åè€…ï¼š

```js
// 3 code points, 3 JavaScript characters:
assert.equal('abc'.length, 3);

// 1 code point, 2 JavaScript characters:
assert.equal('ğŸ™‚'.length, 2);

```

ä»¥ä¸‹è¡¨æ ¼æ€»ç»“äº†æˆ‘ä»¬åˆšåˆšæ¢è®¨çš„æ¦‚å¿µï¼š

| å®ä½“ | å¤§å° | ç¼–ç æ–¹å¼ |
| --- | --- | --- |
| JavaScript å­—ç¬¦ï¼ˆUTF-16 ä»£ç å•å…ƒï¼‰ | 16 ä½ | â€“ |
| Unicode ä»£ç ç‚¹ | 21 ä½ | 1â€“2 ä»£ç å•å…ƒ |
| Unicode å›¾å½¢ç¾¤ç»„ |  | 1+ ä»£ç ç‚¹ |

#### 22.7.1 å¤„ç†ä»£ç å•å…ƒï¼ˆJavaScript å­—ç¬¦ï¼‰

å­—ç¬¦ä¸²çš„ç´¢å¼•å’Œé•¿åº¦åŸºäº JavaScript å­—ç¬¦â€”â€”å®ƒä»¬æ˜¯ UTF-16 ä»£ç å•å…ƒã€‚

##### 22.7.1.1 è®¿é—®ä»£ç å•å…ƒ

ä»£ç å•å…ƒçš„è®¿é—®æ–¹å¼ç±»ä¼¼äºæ•°ç»„å…ƒç´ ï¼š

```js
> const str = 'Î±Î²Î³';
> str.length
3
> str[0]
'Î±'

```

`str.split('')` æŒ‰ä»£ç å•å…ƒåˆ†å‰²ï¼š

```js
> str.split('')
[ 'Î±', 'Î²', 'Î³' ]
> 'AğŸ™‚'.split('')
[ 'A', '\uD83D', '\uDE42' ]

```

è¡¨æƒ…ç¬¦å· ğŸ™‚ ç”±ä¸¤ä¸ªä»£ç å•å…ƒç»„æˆã€‚

##### 22.7.1.2 è½¬ä¹‰ä»£ç å•å…ƒ

è¦ä»¥åå…­è¿›åˆ¶å½¢å¼æŒ‡å®šä»£ç å•å…ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ°å¥½å››ä¸ªåå…­è¿›åˆ¶æ•°å­—çš„ *Unicode ä»£ç å•å…ƒè½¬ä¹‰*ï¼š

```js
> '\u03B1\u03B2\u03B3'
'Î±Î²Î³'

```

**ASCII è½¬ä¹‰ï¼š** å¦‚æœå­—ç¬¦çš„ä»£ç ç‚¹å°äº 256ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ°å¥½ä¸¤ä¸ªåå…­è¿›åˆ¶æ•°å­—çš„ *ASCII è½¬ä¹‰* æ¥å¼•ç”¨å®ƒï¼š

```js
> 'He\x6C\x6Co'
'Hello'

```

![å›¾æ ‡â€œè¯¦æƒ…â€](img/38ba63de820aae6f94a019538ae0f222.png)â€‚**ASCII è½¬ä¹‰çš„å®˜æ–¹åç§°ï¼šåå…­è¿›åˆ¶è½¬ä¹‰åºåˆ—**

è¿™æ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨åå…­è¿›åˆ¶æ•°çš„è½¬ä¹‰ã€‚

##### 22.7.1.3 è½¬æ¢ä»£ç å•å…ƒä¸ºæ•°å­—ï¼ˆå­—ç¬¦ç ï¼‰

è¦è·å–å­—ç¬¦çš„å­—ç¬¦ç ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `.charCodeAt()`ï¼š

```js
> 'Î±'.charCodeAt(0).toString(16)
'3b1'

```

`String.fromCharCode()` å°†å­—ç¬¦ç è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š

```js
> String.fromCharCode(0x3B1)
'Î±'

```

#### 22.7.2 å¤„ç†ä»£ç ç‚¹

##### 22.7.2.1 è®¿é—®ä»£ç ç‚¹

è¿­ä»£ï¼ˆåœ¨æœ¬ä¹¦çš„åé¢æè¿°ï¼‰å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºä»£ç ç‚¹ï¼š

```js
const codePoints = 'AğŸ™‚';
for (const codePoint of codePoints) {
  console.log(codePoint + ' ' + codePoint.length);
}

```

è¾“å‡ºï¼š

```js
A 1
ğŸ™‚ 2

```

`Array.from()` ä½¿ç”¨è¿­ä»£ï¼š

```js
> Array.from('AğŸ™‚')
[ 'A', 'ğŸ™‚' ]

```

å› æ­¤ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­è®¡ç®—ä»£ç ç‚¹æ•°é‡çš„æ–¹æ³•ï¼š

```js
> Array.from('AğŸ™‚').length
2
> 'AğŸ™‚'.length
3

```

##### 22.7.2.2Â Â  ä»£ç ç‚¹çš„è½¬ä¹‰

*Unicode ä»£ç ç‚¹è½¬ä¹‰* å…è®¸æˆ‘ä»¬ä»¥åå…­è¿›åˆ¶å½¢å¼ï¼ˆ1â€“5 ä½æ•°å­—ï¼‰æŒ‡å®šä»£ç ç‚¹ã€‚å®ƒäº§ç”Ÿä¸€ä¸ªæˆ–ä¸¤ä¸ª JavaScript å­—ç¬¦ã€‚

```js
> '\u{1F642}'
'ğŸ™‚'

```

##### 22.7.2.3Â Â  å°†å­—ç¬¦ä¸²ä¸­çš„ä»£ç ç‚¹è½¬æ¢ä¸ºæ•°å­—

`.codePointAt()` è¿”å› 1â€“2 ä¸ª JavaScript å­—ç¬¦åºåˆ—çš„ä»£ç ç‚¹æ•°å­—ï¼š

```js
> 'ğŸ™‚'.codePointAt(0).toString(16)
'1f642'

```

`String.fromCodePoint()` å°†ä»£ç ç‚¹æ•°å­—è½¬æ¢ä¸º 1â€“2 ä¸ª JavaScript å­—ç¬¦ï¼š

```js
> String.fromCodePoint(0x1F642)
'ğŸ™‚'

```

##### 22.7.2.4Â Â  ä»£ç ç‚¹çš„æ­£åˆ™è¡¨è¾¾å¼

å¦‚æœæˆ‘ä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ ‡å¿— `/v`ï¼Œå®ƒå°†æ›´å¥½åœ°æ”¯æŒ Unicode å¹¶åŒ¹é…ä»£ç ç‚¹è€Œä¸æ˜¯ä»£ç å•å…ƒï¼š

```js
> 'ğŸ™‚'.match(/./g)
[ '\uD83D', '\uDE42' ]
> 'ğŸ™‚'.match(/./gv)
[ 'ğŸ™‚' ]

```

æ›´å¤šä¿¡æ¯ï¼šâ€œæ ‡å¿— `/v`: å¯¹å¤šä»£ç ç‚¹å›¾å½¢ç°‡çš„æœ‰é™æ”¯æŒ (ES2024)â€ (Â§46.11.4)ã€‚

#### 22.7.3Â Â  ä¸å›¾å½¢ç°‡ä¸€èµ·å·¥ä½œ

##### 22.7.3.1Â Â  è®¿é—®å›¾å½¢ç°‡

è¿™æ˜¯ä¸€ä¸ªç”± 3 ä¸ªä»£ç ç‚¹ç»„æˆçš„å›¾å½¢ç°‡ï¼š

```js
const graphemeCluster = 'ğŸ˜µâ€ğŸ’«';
assert.deepEqual(
  // Iteration splits into code points
  Array.from(graphemeCluster),
  ['ğŸ˜µ', '\u200D', 'ğŸ’«']
);
assert.equal(
  // 5 JavaScript characters
  'ğŸ˜µâ€ğŸ’«'.length, 5
);

```

è¦å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå›¾å½¢ç°‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [Intl.Segmenter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter) â€”â€” è¿™æ˜¯ä¸€ä¸ªä¸å±äº ECMAScript æœ¬èº«çš„ç±»ï¼Œè€Œæ˜¯ [ECMAScript å›½é™…åŒ– API](https://ecma-international.org/publications-and-standards/standards/ecma-402/) çš„ä¸€éƒ¨åˆ†ã€‚å®ƒè¢«å¤§å¤šæ•° JavaScript å¹³å°æ”¯æŒã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨å®ƒçš„æ–¹æ³•ï¼š

```js
const segmenter = new Intl.Segmenter('en-US', { granularity: 'grapheme' });
assert.deepEqual(
  Array.from(segmenter.segment('AğŸ™‚ğŸ˜µâ€ğŸ’«')),
  [
    { segment: 'A', index: 0, input: 'AğŸ™‚ğŸ˜µâ€ğŸ’«' },
    { segment: 'ğŸ™‚', index: 1, input: 'AğŸ™‚ğŸ˜µâ€ğŸ’«' },
    { segment: 'ğŸ˜µâ€ğŸ’«', index: 3, input: 'AğŸ™‚ğŸ˜µâ€ğŸ’«' },
  ]
);

```

`.segmenter()` è¿”å›ä¸€ä¸ªæ®µå¯¹è±¡çš„å¯è¿­ä»£å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ `for-of`ã€`Array.from()`ã€`Iterator.from()` ç­‰æ–¹å¼ä½¿ç”¨å®ƒã€‚

##### 22.7.3.2Â Â  å›¾å½¢ç°‡çš„æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ ‡å¿— `/v` ä¸ºå›¾å½¢ç°‡æä¾›äº†ä¸€äº›æœ‰é™çš„æ”¯æŒâ€”â€”ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åŒ¹é…å…·æœ‰å¯èƒ½å¤šä¸ªä»£ç ç‚¹çš„è¡¨æƒ…ç¬¦å·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```js
> 'AğŸ™‚ğŸ˜µâ€ğŸ’«'.match(/\p{RGI_Emoji}/gv)
[ 'ğŸ™‚', 'ğŸ˜µâ€ğŸ’«' ]

```

æ›´å¤šä¿¡æ¯ï¼šâ€œæ ‡å¿— `/v`: å¯¹å¤šä»£ç ç‚¹å›¾å½¢ç°‡çš„æœ‰é™æ”¯æŒ (ES2024)â€ (Â§46.11.4)ã€‚

### 22.8Â Â  å¿«é€Ÿå‚è€ƒï¼šå­—ç¬¦ä¸²

#### 22.8.1Â Â  è½¬æ¢ä¸ºå­—ç¬¦ä¸²

è¡¨ 22.1 æè¿°äº†å¦‚ä½•å°†å„ç§å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

| `x` | `String(x)` |
| --- | --- |
| `undefined` | `'undefined'` |
| `null` | `'null'` |
| å¸ƒå°”å€¼ | `false` â†’ `'false'`ï¼Œ`true` â†’ `'true'` |
| æ•°å­— | ç¤ºä¾‹ï¼š`123` â†’ `'123'` |
| å¤§æ•´æ•° | ç¤ºä¾‹ï¼š`123n` â†’ `'123'` |
| å­—ç¬¦ä¸² | `x` (è¾“å…¥ï¼Œæœªæ›´æ”¹) |
| ç¬¦å· | ç¤ºä¾‹ï¼š`Symbol('abc')` â†’ `'Symbol(abc)'` |
| å¯¹è±¡ | å¯é€šè¿‡ä¾‹å¦‚ `toString()` é…ç½® |

è¡¨ 22.1ï¼šå°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

#### 22.8.2Â Â  æ–‡æœ¬åŸå­çš„æ•°å€¼

+   **å­—ç¬¦ç **ï¼šè¡¨ç¤º JavaScript å­—ç¬¦çš„æ•°å­—ã€‚JavaScript å¯¹ *Unicode ä»£ç å•å…ƒ* çš„ç§°å‘¼ã€‚

    +   å¤§å°ï¼š16 ä½ï¼Œæ— ç¬¦å·

    +   å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š`String.fromCharCode()`^(ES1)

    +   å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼šå­—ç¬¦ä¸²æ–¹æ³•`.charCodeAt()`^(ES1)

+   **ç ç‚¹**ï¼šè¡¨ç¤º Unicode æ–‡æœ¬åŸå­éƒ¨åˆ†çš„æ•°å­—ã€‚

    +   å¤§å°ï¼š21 ä½ï¼Œæ— ç¬¦å·ï¼ˆ17 å¹³é¢ï¼Œæ¯ä¸ª 16 ä½ï¼‰

    +   å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š`String.fromCodePoint()`^(ES6)

    +   å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼šå­—ç¬¦ä¸²æ–¹æ³•`.codePointAt()`^(ES6)

#### 22.8.3â€ƒ`String.prototype.*`: æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•

ä»¥ä¸‹æ–¹æ³•åˆ—äºæ­£åˆ™è¡¨è¾¾å¼å¿«é€Ÿå‚è€ƒä¸­ï¼š

+   `String.prototype.match()`

+   `String.prototype.matchAll()`

+   `String.prototype.replace()`

+   `String.prototype.replaceAll()`

+   `String.prototype.search()`

+   `String.prototype.split()`

#### 22.8.4â€ƒ`String.prototype.*`: æŸ¥æ‰¾å’ŒåŒ¹é…

+   `String.prototype.startsWith(searchString, startPos=0)` ES6

    å¦‚æœ`searchString`åœ¨å­—ç¬¦ä¸²ä¸­ä»`startPos`ä½ç½®å‡ºç°ï¼Œåˆ™è¿”å›`true`ã€‚å¦åˆ™è¿”å›`false`ã€‚

    ```js
    > '.gitignore'.startsWith('.')
    true
    > 'abcde'.startsWith('bc', 1)
    true

    ```

+   `String.prototype.endsWith(searchString, endPos=this.length)` ES6

    å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸º`endPos`æ—¶ä»¥`searchString`ç»“å°¾ï¼Œåˆ™è¿”å›`true`ã€‚å¦åˆ™è¿”å›`false`ã€‚

    ```js
    > 'poem.txt'.endsWith('.txt')
    true
    > 'abcde'.endsWith('cd', 4)
    true

    ```

+   `String.prototype.includes(searchString, startPos=0)` ES6

    å¦‚æœå­—ç¬¦ä¸²åŒ…å«`searchString`ï¼Œåˆ™è¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚æœç´¢ä»`startPos`å¼€å§‹ã€‚

    ```js
    > 'abc'.includes('b')
    true
    > 'abc'.includes('b', 2)
    false

    ```

+   `String.prototype.indexOf(searchString, minIndex=0)` ES1

    +   å¦‚æœ`searchString`å‡ºç°åœ¨`minIndex`æˆ–ä¹‹åï¼šè¿”å›å®ƒè¢«æ‰¾åˆ°çš„æœ€ä½ç´¢å¼•ã€‚å¦åˆ™ï¼šè¿”å›`-1`ã€‚

    ```js
    > 'aaax'.indexOf('aa', 0)
    0
    > 'aaax'.indexOf('aa', 1)
    1
    > 'aaax'.indexOf('aa', 2)
    -1

    ```

+   `String.prototype.lastIndexOf(searchString, maxIndex?)` ES1

    +   å¦‚æœ`searchString`å‡ºç°åœ¨`maxIndex`æˆ–ä¹‹å‰ï¼šè¿”å›å®ƒè¢«æ‰¾åˆ°çš„æœ€é«˜ç´¢å¼•ã€‚å¦åˆ™ï¼šè¿”å›`-1`ã€‚

    +   å¦‚æœç¼ºå°‘`maxIndex`ï¼Œæœç´¢ä»`this.length - searchString.length`å¼€å§‹ï¼ˆå‡è®¾`searchString`æ¯”`this`çŸ­ï¼‰ã€‚

    ```js
    > 'xaaa'.lastIndexOf('aa', 3)
    2
    > 'xaaa'.lastIndexOf('aa', 2)
    2
    > 'xaaa'.lastIndexOf('aa', 1)
    1
    > 'xaaa'.lastIndexOf('aa', 0)
    -1

    ```

#### 22.8.5â€ƒ`String.prototype.*`: æå–

+   `String.prototype.slice(start=0, end=this.length)` ES3

    è¿”å›ä»ï¼ˆåŒ…æ‹¬ï¼‰ç´¢å¼•`start`å¼€å§‹åˆ°ï¼ˆä¸åŒ…æ‹¬ï¼‰ç´¢å¼•`end`çš„å­—ç¬¦ä¸²å­ä¸²ã€‚å¦‚æœç´¢å¼•æ˜¯è´Ÿæ•°ï¼Œåœ¨å®ƒè¢«ä½¿ç”¨ä¹‹å‰ä¼šåŠ åˆ°`.length`ä¸Šï¼ˆ`-1`å˜æˆ`this.length-1`ç­‰ï¼‰ã€‚

    ```js
    > 'abc'.slice(1, 3)
    'bc'
    > 'abc'.slice(1)
    'bc'
    > 'abc'.slice(-2)
    'bc'

    ```

+   `String.prototype.at(index: number)` ES2022

    +   è¿”å›`index`ä½ç½®çš„ JavaScript å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²ã€‚

    +   å¦‚æœç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œåˆ™è¿”å›`undefined`ã€‚

    +   å¦‚æœ`index`æ˜¯è´Ÿæ•°ï¼Œåœ¨å®ƒè¢«ä½¿ç”¨ä¹‹å‰ä¼šåŠ åˆ°`.length`ä¸Šï¼ˆ`-1`å˜æˆ`this.length-1`ç­‰ï¼‰ã€‚

    ```js
    > 'abc'.at(0)
    'a'
    > 'abc'.at(-1)
    'c'

    ```

+   `String.prototype.substring(start, end=this.length)` ES1

    ä½¿ç”¨`.slice()`ä»£æ›¿æ­¤æ–¹æ³•ã€‚`.substring()`åœ¨æ—§å¼•æ“ä¸­å®ç°ä¸ä¸€è‡´ï¼Œå¹¶ä¸”ä¸æ”¯æŒè´Ÿç´¢å¼•ã€‚

#### 22.8.6â€ƒ`String.prototype.*`: ç»„åˆ

+   `String.prototype.concat(...strings)` ES3

    è¿”å›å­—ç¬¦ä¸²å’Œ`strings`çš„è¿æ¥ã€‚`'a'.concat('b')`ç­‰ä»·äº`'a'+'b'`ã€‚åè€…æ›´ä¸ºæµè¡Œã€‚

    ```js
    > 'ab'.concat('cd', 'ef', 'gh')
    'abcdefgh'

    ```

+   `String.prototype.padEnd(len, fillString=' ')` ES2017

    åœ¨å­—ç¬¦ä¸²åé¢æ·»åŠ ï¼ˆ`fillString` çš„ç‰‡æ®µï¼‰ç›´åˆ°å®ƒè¾¾åˆ°æ‰€éœ€çš„é•¿åº¦ `len`ã€‚å¦‚æœå®ƒå·²ç»å…·æœ‰æˆ–è¶…è¿‡ `len`ï¼Œåˆ™è¿”å›è€Œä¸åšä»»ä½•æ›´æ”¹ã€‚

    ```js
    > '#'.padEnd(2)
    '# '
    > 'abc'.padEnd(2)
    'abc'
    > '#'.padEnd(5, 'abc')
    '#abca'

    ```

+   `String.prototype.padStart(len, fillString=' ')` ES2017

    åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ ï¼ˆ`fillString` çš„ç‰‡æ®µï¼‰ç›´åˆ°å®ƒè¾¾åˆ°æ‰€éœ€çš„é•¿åº¦ `len`ã€‚å¦‚æœå®ƒå·²ç»å…·æœ‰æˆ–è¶…è¿‡ `len`ï¼Œåˆ™è¿”å›è€Œä¸åšä»»ä½•æ›´æ”¹ã€‚

    ```js
    > '#'.padStart(2)
    ' #'
    > 'abc'.padStart(2)
    'abc'
    > '#'.padStart(5, 'abc')
    'abca#'

    ```

+   `String.prototype.repeat(count=0)` ES6

    è¿”å›é‡å¤ `count` æ¬¡çš„å­—ç¬¦ä¸²ã€‚

    ```js
    > '*'.repeat()
    ''
    > '*'.repeat(3)
    '***'

    ```

#### 22.8.7â€ƒ`String.prototype.*`: è½¬æ¢

+   `String.prototype.toUpperCase()` ES1

    è¿”å›ä¸€ä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­æ‰€æœ‰å°å†™å­—æ¯å­—ç¬¦éƒ½è¢«è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚è¿™å¯¹äºå„ç§å­—æ¯è¡¨çš„æ•ˆæœå–å†³äº JavaScript å¼•æ“ã€‚

    ```js
    > '-a2b-'.toUpperCase()
    '-A2B-'
    > 'Î±Î²Î³'.toUpperCase()
    'Î‘Î’Î“'

    ```

+   `String.prototype.toLowerCase()` ES1

    è¿”å›ä¸€ä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­æ‰€æœ‰å¤§å†™å­—æ¯å­—ç¬¦éƒ½è¢«è½¬æ¢ä¸ºå°å†™å­—æ¯ã€‚è¿™å¯¹äºå„ç§å­—æ¯è¡¨çš„æ•ˆæœå–å†³äº JavaScript å¼•æ“ã€‚

    ```js
    > '-A2B-'.toLowerCase()
    '-a2b-'
    > 'Î‘Î’Î“'.toLowerCase()
    'Î±Î²Î³'

    ```

+   `String.prototype.trim()` ES5

    è¿”å›ä¸€ä¸ªæ²¡æœ‰å‰å¯¼å’Œå°¾éšç©ºç™½ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€è¡Œç»ˆæ­¢ç¬¦ç­‰ï¼‰çš„å­—ç¬¦ä¸²å‰¯æœ¬ã€‚

    ```js
    > '\r\n#\t  '.trim()
    '#'
    > '  abc  '.trim()
    'abc'

    ```

+   `String.prototype.trimStart()` ES2019

    ä¸ `.trim()` ç±»ä¼¼ï¼Œä½†ä»…åˆ é™¤å­—ç¬¦ä¸²çš„å¼€å¤´ï¼š

    ```js
    > '  abc  '.trimStart()
    'abc  '

    ```

+   `String.prototype.trimEnd()` ES2019

    ä¸ `.trim()` ç±»ä¼¼ï¼Œä½†ä»…åˆ é™¤å­—ç¬¦ä¸²çš„æœ«å°¾ï¼š

    ```js
    > '  abc  '.trimEnd()
    '  abc'

    ```

+   `String.prototype.normalize(form = 'NFC')` ES6

    +   æ ¹æ® Unicode è§„èŒƒåŒ–å½¢å¼è§„èŒƒåŒ–å­—ç¬¦ä¸²ã€‚[Unicode è§„èŒƒåŒ–å½¢å¼](https://unicode.org/reports/tr15/)

    +   `form` çš„å€¼ï¼š`'NFC', 'NFD', 'NFKC', 'NFKD'`

+   `String.prototype.isWellFormed()` ES2024

    å¦‚æœå­—ç¬¦ä¸²æ ¼å¼ä¸æ­£ç¡®ä¸”åŒ…å« *lone surrogates*ï¼ˆæœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…`.toWellFormed()`ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚å¦åˆ™ï¼Œè¿”å› `false`ã€‚

    ```js
    > 'ğŸ™‚'.split('') // split into code units
    [ '\uD83D', '\uDE42' ]
    > '\uD83D\uDE42'.isWellFormed()
    true
    > '\uD83D\uDE42\uD83D'.isWellFormed() // lone surrogate 0xD83D
    false

    ```

+   `String.prototype.toWellFormed()` ES2024

    æ¯ä¸ª JavaScript å­—ç¬¦ä¸²å­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª UTF-16 ä»£ç å•å…ƒã€‚ä¸€ä¸ªä»£ç ç‚¹è¢«ç¼–ç ä¸ºä¸€ä¸ªæˆ–ä¸¤ä¸ª UTF-16 ä»£ç å•å…ƒã€‚åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªä»£ç å•å…ƒè¢«ç§°ä¸º *leading surrogate* å’Œ *trailing surrogate*ã€‚æ²¡æœ‰å…¶é…å¯¹çš„ä»£ç†å­—ç¬¦è¢«ç§°ä¸º *lone surrogate*ã€‚åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå•ç‹¬ä»£ç†å­—ç¬¦çš„å­—ç¬¦ä¸²æ˜¯ *ill-formed*ã€‚

    `.toWellFormed()` å°†ä¸€ä¸ªæ ¼å¼ä¸æ­£ç¡®çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ ¼å¼æ­£ç¡®çš„å­—ç¬¦ä¸²ï¼Œé€šè¿‡å°†æ¯ä¸ªå•ç‹¬çš„ä»£ç†å­—ç¬¦æ›¿æ¢ä¸ºä»£ç ç‚¹ 0xFFFDï¼ˆâ€œæ›¿æ¢å­—ç¬¦â€ï¼‰ã€‚è¯¥å­—ç¬¦é€šå¸¸æ˜¾ç¤ºä¸º ï¿½ï¼ˆä¸€ä¸ªå¸¦æœ‰ç™½è‰²é—®å·çš„é»‘è‰²è±å½¢ï¼‰ã€‚å®ƒä½äºå­—ç¬¦çš„ *Specials* Unicode å—ä¸­ï¼Œä½äº *Basic Multilingual Plane* çš„æœ«å°¾ã€‚[è¿™æ˜¯ç»´åŸºç™¾ç§‘å…³äºæ›¿æ¢å­—ç¬¦çš„è¯´æ˜](https://en.wikipedia.org/wiki/Specials_%28Unicode_block%29#Replacement_character)ï¼š â€œå®ƒç”¨äºæŒ‡ç¤ºå½“ç³»ç»Ÿæ— æ³•å°†æ•°æ®æµæ¸²æŸ“ä¸ºæ­£ç¡®çš„ç¬¦å·æ—¶å‡ºç°çš„é—®é¢˜ã€‚â€

    ```js
    assert.deepEqual(
      'ğŸ™‚'.split(''), // split into code units
      ['\uD83D', '\uDE42']
    );
    assert.deepEqual(
       // 0xD83D is a lone surrogate
      '\uD83D\uDE42\uD83D'.toWellFormed().split(''),
      ['\uD83D', '\uDE42', '\uFFFD']
    );

    ```

#### 22.8.8â€ƒæœ¬å¿«é€Ÿå‚è€ƒçš„æ¥æº

+   [ECMAScript è¯­è¨€è§„èŒƒ](https://tc39.es/ecma262/)

+   [TypeScript å†…ç½®ç±»å‹å®šä¹‰](https://github.com/microsoft/TypeScript/tree/main/src/lib/)

+   [MDN ç½‘é¡µæ–‡æ¡£ä¸­çš„ JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)

![â€œç»ƒä¹ â€å›¾æ ‡](img/4fc2ec98bb44cc1f4de7c6a46d9dd043.png)â€‚**ç»ƒä¹ ï¼šä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•**

`exercises/strings/remove_extension_test.mjs`
