# 4 JavaScript 的本质

> 原文：[`exploringjs.com/js/book/ch_nature.html`](https://exploringjs.com/js/book/ch_nature.html)

1.  4.1 JavaScript 的影响

1.  4.2 JavaScript 的本质

    1.  4.2.1 JavaScript 经常静默失败

1.  4.3 开始使用 JavaScript 的技巧

### 4.1 JavaScript 的影响

当 JavaScript 在 1995 年被创建时，它受到了几种编程语言的影响：

+   JavaScript 的语法在很大程度上基于 Java。

+   自身启发了 JavaScript 的原型继承。

+   闭包和环境是从 Scheme 中借鉴的。

+   AWK 影响了 JavaScript 的函数（包括 `function` 关键字）。

+   JavaScript 的字符串、数组和正则表达式受到了 Perl 的影响。

+   HyperTalk 通过 `onclick` 在 Web 浏览器中启发了事件处理。

随着 ECMAScript 6 的推出，JavaScript 获得了新的影响：

+   生成器是从 Python 中借鉴的。

+   箭头函数的语法来自 CoffeeScript。

+   C++ 贡献了 `const` 关键字。

+   解构是从 Lisp 的 *解构绑定* 中获得的灵感。

+   模板字面量来自 E 语言（在那里它们被称为 *准字面量*）。

### 4.2 JavaScript 的本质

这些是语言的一些特性：

+   它的语法是 C 家族语言的一部分（花括号等）。

+   它是一种动态语言：大多数对象可以在运行时以各种方式更改，可以直接创建对象等。

+   它是一种动态类型语言：变量没有固定的静态类型，你可以将任何值分配给给定的（可变的）变量。

+   它具有函数式编程特性：一等函数、闭包、通过 `bind()` 的部分应用等。

+   它具有面向对象特性：可变状态、对象、继承、类等。

+   它经常静默失败：请参阅下一小节以获取详细信息。

+   它以源代码的形式部署。但那个源代码通常会被 *压缩*（重写以减少存储需求）。并且有 [关于二进制源代码格式的计划](https://github.com/tc39/proposal-binary-ast)。

+   JavaScript 是 Web 平台的一部分——它是嵌入到 Web 浏览器中的语言。但它也被用于其他地方——例如，在 Node.js 中用于服务器端，以及 shell 脚本。

+   JavaScript 引擎通常在底层优化效率较低的语言机制。例如，原则上，JavaScript 数组是字典。但在底层，如果它们有连续的索引，引擎会连续存储数组。

#### 4.2.1 JavaScript 经常静默失败

JavaScript 经常静默失败。让我们看看两个例子。

第一个例子：如果运算符的操作数没有适当的类型，它们将按需转换。

```js
> '3' * '5'
15

```

第二个例子：如果算术计算失败，你会得到一个错误值，而不是异常。

```js
> 1 / 0
Infinity

```

无声失败的原因是历史性的：JavaScript 直到 ECMAScript 3 才有异常。从那时起，其设计者一直试图避免无声失败。

### 4.3 开始使用 JavaScript 的技巧

这些是一些帮助您开始学习 JavaScript 的技巧：

+   请花时间真正了解这门语言。传统的 C 风格语法隐藏了这是一个非常非常不寻常的语言的事实。特别学习其怪癖及其背后的理由。然后您将更好地理解和欣赏这门语言。

    +   除了细节之外，这本书还教授了一些简单的经验法则，以确保安全——例如，“始终使用 `===` 来确定两个值是否相等，而不是 `==`。”

+   语言工具使得使用 JavaScript 更加容易。例如：

    +   您可以通过 [TypeScript](https://www.typescriptlang.org) 静态类型化 JavaScript。

    +   您可以通过像 [ESLint](https://eslint.org) 这样的 linters 检查问题和反模式。

    +   您可以通过像 [Prettier](https://prettier.io) 这样的代码格式化工具自动格式化您的代码。

    +   关于 JavaScript 工具的更多信息，请参阅“下一步：Web 开发概述”（§49）“Next steps: overview of web development” (§49)。

+   与社区取得联系：

    +   在 JavaScript 程序员中，像 Mastodon 这样的社交媒体服务很受欢迎。作为一种介于口语和书面语之间的交流方式，它非常适合交换知识。

    +   许多城市都有定期的免费聚会，人们聚集在一起学习与 JavaScript 相关的主题。

    +   JavaScript 会议是结识其他 JavaScript 程序员的另一种便捷方式。

+   阅读书籍和博客。许多资料都可以在线免费获取！
